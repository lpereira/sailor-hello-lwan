!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;return void 0===i?void 0:i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return void 0;a=j,b=f,c=g,d=!0,h=j=void 0}},h=function(a){function b(a){d(this,b),g(Object.getPrototypeOf(b.prototype),"constructor",this).call(this),this.message=a}return e(b,a),f(b,[{key:"toString",value:function(){return"LuaError: "+this.message}}]),b}(Error);c["default"]=h,b.exports=c["default"]},{}],2:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(){var b=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];d(this,a),this._variables=b}return e(a,[{key:"get",value:function(a){return this._variables[a]}},{key:"set",value:function(a,b){var c=this._variables;this._variables.hasOwnProperty(a)||!this.parent?c[a]=b:this.parent.set(a,b)}},{key:"setLocal",value:function(a,b){this._variables[a]=b}},{key:"setVarargs",value:function(a){this._varargs=a}},{key:"getVarargs",value:function(){return this._varargs||this.parent&&this.parent.getVarargs()}},{key:"add",value:function(a,b){this._variables[a]+=b}},{key:"extend",value:function(b){var c=Object.create(this._variables),d=new a(c);return d.parent=this,d}}]),a}();c["default"]=f,b.exports=c["default"]},{}],3:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a){l=a}Object.defineProperty(c,"__esModule",{value:!0});var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();c.registerStringLib=f;var h=a("./LuaError"),i=d(h),j=a("./lib/globals"),k=0,l=void 0,m=function(){function a(b){if(e(this,a),this.index=++k,this.numValues=[void 0],this.strValues={},this.keys=[],this.values=[],this.metatable=null,b)if("function"==typeof b)b(this);else{var c=b instanceof Array;for(var d in b)if(b.hasOwnProperty(d)){var f=b[d];null===f&&(f=void 0);var g=c?parseInt(d,10)+1:d,h="object"==typeof f&&f.constructor===Object||f instanceof Array;this.set(g,h?new a(f):f)}}else;}return g(a,[{key:"get",value:function(b){if(!(this instanceof a)){if("string"==(0,j.type)(this))return l.get(b);if("userdata"==(0,j.type)(this)&&b in this)return this[b];throw new i["default"]("attempt to index a "+(0,j.type)(this)+" value")}var c=this.rawget(b);if(void 0===c){var d=void 0,e=void 0;if((d=this.metatable)&&(e=d.get("__index")))switch(e.constructor){case a:return e.get(b);case Function:return c=e.call(void 0,this,b),c instanceof Array?c[0]:c}}return c}},{key:"rawget",value:function(a){switch(typeof a){case"string":return this.strValues[a];case"number":if(a>0&&a==a>>0)return this.numValues[a];default:var b=this.keys.indexOf(a);return b>=0?this.values[b]:void 0}}},{key:"set",value:function(b,c){if(!(this instanceof a)){if("userdata"==(0,j.type)(this))return void(this[b]=c);throw new i["default"]("attempt to index a "+(0,j.type)(this)+" value")}var d=void 0,e=void 0;if((d=this.metatable)&&(e=d.get("__newindex"))){var f=void 0;switch(typeof b){case"string":f=this.strValues[b];break;case"number":var g=b>0&&b==b>>0;if(g){f=this.numValues[b];break}default:var h=this.keys,k=h.indexOf(b);f=-1==k?void 0:this.values[k]}if(void 0===f)switch(e.constructor){case a:return e.set(b,c);case Function:return e(this,b,c)}}this.rawset(b,c)}},{key:"rawset",value:function(a,b){switch(b instanceof Array&&(b=b[0]),typeof a){case"string":this.strValues[a]=b;break;case"number":var c=a>0&&a==a>>0;if(c){this.numValues[a]=b;break}default:var d=this.keys,e=d.indexOf(a);0>e&&(e=d.length,d[e]=a),this.values[e]=b}}},{key:"insert",value:function(){var a;(a=this.numValues).push.apply(a,arguments)}},{key:"toString",value:function(){var a=void 0,b=void 0;return(a=this.metatable)&&(b=a.get("__tostring"))?b(this)[0]:"table: 0x"+this.index.toString(16)}}]),a}();c["default"]=m},{"./LuaError":1,"./lib/globals":5}],4:[function(a,b,c){(function(b){"use strict";function c(a){return a&&a.__esModule?a:{"default":a}}function d(a){return a instanceof Array?a:[a]}function e(a){for(var b=arguments.length,c=Array(b>1?b-1:0),e=1;b>e;e++)c[e-1]=arguments[e];if(!(a instanceof Function)){if(a instanceof n["default"]){var f=void 0,g=void 0;(f=a.metatable)&&(g=f.rawget("__call"))&&(c.unshift(a),a=g)}if(!(a instanceof Function)){var h=(0,i.type)(a);throw new p["default"]("attempt to call a "+h+" value")}}return d(a.apply(void 0,c))}function f(){var a=A.config&&A.config.env;if(a)for(var b in a)j["default"].set(b,a[b])}var g=a("./Scope"),h=c(g),i=a("./lib/globals"),j=c(i),k=a("./operators"),l=c(k),m=a("./Table"),n=c(m),o=a("./LuaError"),p=c(o),q=a("./lib/math"),r=c(q),s=a("./lib/table"),t=c(s),u=a("./lib/string"),v=c(u),w=a("./lib/os"),x=c(w),y=a("./lib/package"),z=c(y),A=b.starlight=b.starlight||{},B=j["default"];f();A.runtime={globalScope:new h["default"](j["default"].strValues),_G:B,op:l["default"],T:n["default"],LuaError:p["default"],call:e};B.set("math",r["default"]),B.set("table",t["default"]),B.set("string",v["default"]),(0,m.registerStringLib)(v["default"]),B.set("os",x["default"]),B.set("package",z["default"])}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./LuaError":1,"./Scope":2,"./Table":3,"./lib/globals":5,"./lib/math":6,"./lib/os":7,"./lib/package":8,"./lib/string":9,"./lib/table":10,"./operators":11}],5:[function(a,b,c){(function(b){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function f(){var a=b.starlight.runtime._G.rawget("package");if(void 0===a)throw new F["default"]("error during require(), package lib not found.");var c=[a.rawget("preload"),a.rawget("loaded")];return f=function(){return c},c}function g(a,b){if(void 0===b)throw new F["default"]("Bad argument #2 to ipairs() iterator");var c=b+1,d=a.numValues;return d.hasOwnProperty(c)&&void 0!==d[c]?[c,d[c]]:void 0}function h(a,b){if(!(0,I.coerceToBoolean)(a))throw b=(0,I.coerceArgToString)(b,"assert",2),new F["default"](b||"Assertion failed!");return[a,b]}function i(a){throw"string"!=typeof a&&"number"!=typeof a&&(a="(error object is not a string)"),new F["default"](a)}function j(a){if(a&&a instanceof D["default"]){var b=a.metatable;if(b){var c=void 0;return(c=b.rawget("__metatable"))?c:b}}else if("string"==typeof a)return G.metatable}function k(a){return a=(0,I.coerceArgToTable)(a,"ipairs",1),[g,a,0]}function l(a,c){a=(0,I.coerceArgToString)(a,"loadstring",1);var d=b.starlight.parser;if(!d)throw new Error("Starlight parser not found in call to loadstring(). The parser is required to execute Lua strings at runtime.");try{return d.parse(a)}catch(e){return[void 0,e.message]}}function m(a,b){a=(0,I.coerceArgToTable)(a,"next",1);var c=void 0===b,d=void 0,e=void 0,f=void 0,g=void 0;if(c||"number"==typeof b&&b>0&&b==b>>0){var h=a.numValues;if("keys"in Object){var i=Object.keys(h);if(c?f=1:(f=i.indexOf(""+b)+1)&&(c=!0),c){for(;void 0!==(d=i[f])&&void 0===(e=h[d]);)f++;if(void 0!==e)return[d>>=0,e]}}else for(g in h)if(f=g>>0,c){if(void 0!==h[f])return[f,h[f]]}else f===b&&(c=!0)}for(f in a.strValues)if(a.strValues.hasOwnProperty(f))if(c){if(void 0!==a.strValues[f])return[f,a.strValues[f]]}else f==b&&(c=!0);for(f in a.keys)if(a.keys.hasOwnProperty(f)){var j=a.keys[f];if(c){if(void 0!==a.values[f])return[j,a.values[f]]}else j===b&&(c=!0)}return[]}function n(a){return a=(0,I.coerceArgToTable)(a,"pairs",1),[m,a]}function o(a){var b=void 0;try{if("function"!=typeof a)throw new F["default"]("Attempt to call non-function");for(var c=arguments.length,d=Array(c>1?c-1:0),f=1;c>f;f++)d[f-1]=arguments[f];b=a.apply(void 0,d)}catch(g){return[!1,g&&g.toString()]}return b=[].concat(b),[!0].concat(e(b))}function p(){for(var a=arguments.length,b=Array(a),c=0;a>c;c++)b[c]=arguments[c];var d=b.map(function(a){return x(a)}).join("	");I.stdout.writeln(d)}function q(a,b){return a===b}function r(a,b){return a=(0,I.coerceArgToTable)(a,"rawget",1),a.rawget(b)}function s(a,b,c){if(a=(0,I.coerceArgToTable)(a,"rawset",1),void 0===b)throw new F["default"]("table index is nil");return a.rawset(b,c),a}function t(a){a=(0,I.coerceArgToString)(a,"require",1),a=a.replace(/\//g,".");var b=f(),c=B(b,2),d=c[0],e=c[1],g=d.rawget(a);if(void 0===g)throw new F["default"]("module '"+a+"' not found:\n	no field package.preload['"+a+"']");var h=g(a)[0];return e.rawset(a,void 0!==h?h:!0),h}function u(a){for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;b>d;d++)c[d-1]=arguments[d];if("#"===a)return c.length;if(a=parseInt(a,10))return c.slice(a-1);var e=y(a);throw new F["default"]("bad argument #1 to 'select' (number expected, got "+e+")")}function v(a,b){a=(0,I.coerceArgToTable)(a,"setmetatable",1),void 0!==b&&(b=(0,I.coerceArgToTable)(b,"setmetatable",2));var c=void 0;if((c=a.metatable)&&c.rawget("__metatable"))throw new F["default"]("cannot change a protected metatable");return a.metatable=b,a}function w(a){var c=arguments.length<=1||void 0===arguments[1]?10:arguments[1];if(c=(0,I.coerceArgToNumber)(c,"tonumber",2),""!==a){if(2>c||c>36)throw new F["default"]("bad argument #2 to 'tonumber' (base out of range)");if(10==c&&(a===1/0||a===-(1/0)||"number"==typeof a&&b.isNaN(a)))return a;if(10!=c&&void 0===a)throw new F["default"]("bad argument #1 to 'tonumber' (string expected, got nil)");if(a=(""+a).trim(),10===c)return(0,I.coerceToNumber)(a);a=(0,I.coerceToString)(a);var d=void 0;16===c&&(d=a.match(/^(\-)?0[xX](.+)$/))&&(a=""+(d[1]||"")+d[2]);var e=new RegExp("^["+J.substr(0,c)+"]*$","gi");if(e.test(a))return parseInt(a,c)}}function x(a){var b=void 0,c=void 0;return void 0!==a&&a instanceof D["default"]&&(b=a.metatable)&&(c=b.rawget("__tostring"))?c.call(c,a):a instanceof D["default"]?a.toString():a instanceof Function?a.hasOwnProperty("toString")?""+a:"function: [host code]":(0,I.coerceToString)(a)||"userdata"}function y(a){var b=typeof a;switch(b){case"undefined":return"nil";case"number":case"string":case"boolean":case"function":return b;case"object":return a.constructor===D["default"]?"table":a&&a instanceof Function?"function":"userdata"}}function z(a,b,c){return void 0===b&&(b=1),a=(0,I.coerceArgToTable)(a,"unpack",1),b=(0,I.coerceArgToNumber)(b,"unpack",2),c=void 0===c?(0,H.getn)(a):(0,I.coerceArgToNumber)(c,"unpack",3),a.numValues.slice(b,c+1)}function A(a,b){var c=void 0,d=void 0,e=void 0;try{"function"==typeof a?c=a():e=!0,d=!0}catch(f){c=b(void 0,!0)[0],d=!1}if(e)throw new F["default"]("Attempt to call non-function");return c&&c instanceof Array||(c=[c]),c.unshift(d),c}Object.defineProperty(c,"__esModule",{value:!0});var B=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(i){e=!0,f=i}finally{try{!d&&h["return"]&&h["return"]()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();c.assert=h,c.error=i,c.getmetatable=j,c.ipairs=k,c.loadstring=l,c.next=m,c.pairs=n,c.pcall=o,c.print=p,c.rawequal=q,c.rawget=r,c.rawset=s,c._require=t,c.select=u,c.setmetatable=v,c.tonumber=w,c.tostring=x,c.type=y,c.unpack=z,c.xpcall=A;var C=a("../Table"),D=d(C),E=a("../LuaError"),F=d(E),G=a("./string"),H=(d(G),a("./table")),I=a("../utils"),J="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",K="Lua 5.1";c._VERSION=K;var L=new D["default"]({_VERSION:K,assert:h,error:i,getmetatable:j,ipairs:k,loadstring:l,next:m,pairs:n,pcall:o,print:p,rawequal:q,rawget:r,rawset:s,require:t,select:u,setmetatable:v,tonumber:w,tostring:x,type:y,unpack:z,xpcall:A});c._G=L,L.rawset("_G",L),c["default"]=L}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../LuaError":1,"../Table":3,"../utils":12,"./string":9,"./table":10}],6:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(){return N=L*N%M,N/M}function f(a){return a=(0,K.coerceArgToNumber)(a,"abs",1),Math.abs(a)}function g(a){return a=(0,K.coerceArgToNumber)(a,"acos",1),Math.acos(a)}function h(a){return a=(0,K.coerceArgToNumber)(a,"asin",1),Math.asin(a)}function i(a){return a=(0,K.coerceArgToNumber)(a,"atan",1),Math.atan(a)}function j(a,b){return a=(0,K.coerceArgToNumber)(a,"atan2",1),b=(0,K.coerceArgToNumber)(b,"atan2",2),Math.atan2(a,b)}function k(a){return a=(0,K.coerceArgToNumber)(a,"ceil",1),Math.ceil(a)}function l(a){return a=(0,K.coerceArgToNumber)(a,"cos",1),Math.cos(a)}function m(a){return a=(0,K.coerceArgToNumber)(a,"cosh",1),(o(a)+o(-a))/2}function n(a){return a=(0,K.coerceArgToNumber)(a,"deg",1),180*a/Math.PI}function o(a){return a=(0,K.coerceArgToNumber)(a,"exp",1),Math.exp(a)}function p(a){return a=(0,K.coerceArgToNumber)(a,"floor",1),Math.floor(a)}function q(a,b){return a=(0,K.coerceArgToNumber)(a,"fmod",1),b=(0,K.coerceArgToNumber)(b,"fmod",2),a%b}function r(a){if(a=(0,K.coerceArgToNumber)(a,"frexp",1),0===a)return[0,0];var b=a>0?1:-1;a*=b;var c=Math.floor(Math.log(a)/Math.log(2))+1,d=a/Math.pow(2,c);return[d*b,c]}function s(a,b){return a=(0,K.coerceArgToNumber)(a,"ldexp",1),b=(0,K.coerceArgToNumber)(b,"ldexp",2),a*Math.pow(2,b)}function t(a,b){return a=(0,K.coerceArgToNumber)(a,"log",1),void 0===b?Math.log(a):(c.y=c.y=c.y=y=(0,K.coerceArgToNumber)(y,"log",2),Math.log(a)/Math.log(b))}function u(a){return a=(0,K.coerceArgToNumber)(a,"log10",1),Math.log(a)/Math.log(10)}function v(){return Math.max.apply(Math,arguments)}function w(){return Math.min.apply(Math,arguments)}function x(a){a=(0,K.coerceArgToNumber)(a,"modf",1);var b=Math.floor(a),c=a-b;return[b,c]}function z(a,b){return a=(0,K.coerceArgToNumber)(a,"pow",1),b=coercArgToNumber(b,"pow",2),Math.pow(a,b)}function A(a){return a=(0,K.coerceArgToNumber)(a,"rad",1),Math.PI/180*a}function B(a,b){if(void 0===a&&void 0===b)return e();if(a=(0,K.coerceArgToNumber)(a,"random",1),void 0===b?(b=a,a=1):b=(0,K.coerceArgToNumber)(b,"random",2),a>b)throw new shine.Error("bad argument #2 to 'random' (interval is empty)");return Math.floor(e()*(b-a+1)+a)}function C(a){a=(0,K.coerceArgToNumber)(a,"randomseed",1),N=a}function D(a){return a=(0,K.coerceArgToNumber)(a,"sin",1),Math.sin(a)}function E(a){return a=(0,K.coerceArgToNumber)(a,"sinh",1),(o(a)-o(-a))/2}function F(a){return a=(0,K.coerceArgToNumber)(a,"sqrt",1),Math.sqrt(a)}function G(a){return a=(0,K.coerceArgToNumber)(a,"tan",1),Math.tan(a)}function H(a){return a=(0,K.coerceArgToNumber)(a,"tanh",1),(o(a)-o(-a))/(o(a)+o(-a))}Object.defineProperty(c,"__esModule",{value:!0}),c.abs=f,c.acos=g,c.asin=h,c.atan=i,c.atan2=j,c.ceil=k,c.cos=l,c.cosh=m,c.deg=n,c.exp=o,c.floor=p,c.fmod=q,c.frexp=r,c.ldexp=s,c.log=t,c.log10=u,c.max=v,c.min=w,c.modf=x,c.pow=z,c.rad=A,c.random=B,c.randomseed=C,c.sin=D,c.sinh=E,c.sqrt=F,c.tan=G,c.tanh=H;var I=a("../Table"),J=d(I),K=a("../utils"),L=16807,M=2147483647,N=1,O=1/0;c.huge=O;var P=Math.PI;c.pi=P,c["default"]=new J["default"]({abs:f,acos:g,asin:h,atan:i,atan2:j,ceil:k,cos:l,cosh:m,deg:n,exp:o,floor:p,fmod:q,frexp:r,huge:O,ldexp:s,log:t,log10:u,max:v,min:w,modf:x,pi:P,pow:z,rad:A,random:B,randomseed:C,sin:D,sinh:E,sqrt:F,tan:G,tanh:H})},{"../Table":3,"../utils":12}],7:[function(a,b,c){(function(b){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){var b=a.getFullYear(),c=new Date(b,0);return a.getTimezoneOffset()!==c.getTimezoneOffset()}function f(a,b,c){var d=parseInt(n["%j"](a),10),e=new Date(a.getFullYear(),0,1,12),f=(8-e["get"+(c?"UTC":"")+"Day"]()+b)%7;return("0"+(Math.floor((d-f)/7)+1)).substr(-2)}function g(a,b){void 0===a&&(a="%c");var c=void 0,d=new Date;if(b&&d.setTime(1e3*b),"!"===a.substr(0,1)&&(a=a.substr(1),c=!0),"*t"===a)return new j["default"]({year:parseInt(n["%Y"](d,c),10),month:parseInt(n["%m"](d,c),10),day:parseInt(n["%d"](d,c),10),hour:parseInt(n["%H"](d,c),10),min:parseInt(n["%M"](d,c),10),sec:parseInt(n["%S"](d,c),10),wday:parseInt(n["%w"](d,c),10)+1,yday:parseInt(n["%j"](d,c),10),isdst:e(d)});for(var f in n)n.hasOwnProperty(f)&&a.indexOf(f)>=0&&(a=a.replace(f,n[f](d,c)));return a}function h(){var a=arguments.length<=0||void 0===arguments[0]?0:arguments[0],c=b.process;if(!c||!c.exit)throw new Error("Exit with code: "+a);c.exit(a)}Object.defineProperty(c,"__esModule",{value:!0}),c.date=g,c.exit=h;var i=a("../Table"),j=d(i),k=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],l=["January","February","March","April","May","June","July","August","September","October","November","December"],m=[31,28,31,30,31,30,31,31,30,31,30,31],n={"%a":function(a,b){return k[a["get"+(b?"UTC":"")+"Day"]()].substr(0,3)},"%A":function(a,b){return k[a["get"+(b?"UTC":"")+"Day"]()]},"%b":function(a,b){return l[a["get"+(b?"UTC":"")+"Month"]()].substr(0,3)},"%B":function(a,b){return l[a["get"+(b?"UTC":"")+"Month"]()]},"%c":function(a,b){return a["to"+(b?"UTC":"")+"LocaleString"]()},"%d":function(a,b){return("0"+a["get"+(b?"UTC":"")+"Date"]()).substr(-2)},"%H":function(a,b){return("0"+a["get"+(b?"UTC":"")+"Hours"]()).substr(-2)},"%I":function(a,b){return("0"+((a["get"+(b?"UTC":"")+"Hours"]()+11)%12+1)).substr(-2)},"%j":function(a,b){for(var c=a["get"+(b?"UTC":"")+"Date"](),d=a["get"+(b?"UTC":"")+"Month"](),e=0;d>e;e++)c+=m[e];return d>1&&a["get"+(b?"UTC":"")+"FullYear"]()%4===0&&(c+=1),("00"+c).substr(-3)},"%m":function(a,b){return("0"+(a["get"+(b?"UTC":"")+"Month"]()+1)).substr(-2)},"%M":function(a,b){return("0"+a["get"+(b?"UTC":"")+"Minutes"]()).substr(-2)},"%p":function(a,b){return a["get"+(b?"UTC":"")+"Hours"]()<12?"AM":"PM"},"%S":function(a,b){return("0"+a["get"+(b?"UTC":"")+"Seconds"]()).substr(-2)},"%U":function(a,b){return f(a,0,b)},"%w":function(a,b){return""+a["get"+(b?"UTC":"")+"Day"]()},"%W":function(a,b){return f(a,1,b)},"%x":function(a,b){return n["%m"](a,b)+"/"+n["%d"](a,b)+"/"+n["%y"](a,b)},"%X":function(a,b){return n["%H"](a,b)+":"+n["%M"](a,b)+":"+n["%S"](a,b)},"%y":function(a,b){return n["%Y"](a,b).substr(-2)},"%Y":function(a,b){return""+a["get"+(b?"UTC":"")+"FullYear"]()},"%Z":function(a,b){var c=void 0;return b&&"UTC"||(c=a.toString().match(/[A-Z][A-Z][A-Z]/))&&c[0]},"%%":function(){return"%"}};c["default"]=new j["default"]({date:g,exit:h})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../Table":3}],8:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("../Table"),f=d(e);c["default"]=new f["default"]({preload:new f["default"],loaded:new f["default"]}),b.exports=c["default"]},{"../Table":3}],9:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){a=""+a;for(var b in A)A.hasOwnProperty(b)&&(a=a.replace(new RegExp(b,"g"),A[b]));for(var c=a.length,d=0,b=0;c>b;b++){var e=a.substr(b,1);if(!b||"\\"!=a.substr(b-1,1)){var f=!1;"["==e?(d&&(f=!0),d++):"]"==e&&"\\"!==a.substr(b-1,1)&&(d--,d&&(f=!0)),f&&(a=a.substr(0,b)+a.substr(b++ +1),c++)}}return a}function f(a,b,c){return void 0===b&&(b=1),a=(0,z.coerceArgToString)(a,"byte",1),b=(0,z.coerceArgToNumber)(b,"byte",2),c=void 0===c?b:(0,z.coerceArgToNumber)(c,"byte",3),a.substring(b-1,c).split("").map(function(a){return a.charCodeAt(0)})}function g(){for(var a=arguments.length,b=Array(a),c=0;a>c;c++)b[c]=arguments[c];return b.map(function(a,b){return a=(0,z.coerceArgToNumber)(a,"char",b),String.fromCharCode(a)}).join("")}function h(a){throw a=(0,z.coerceArgToFunction)(a,"dump",1),new w["default"]("string.dump() is not supported")}function i(a,b){var c=arguments.length<=2||void 0===arguments[2]?1:arguments[2],d=arguments.length<=3||void 0===arguments[3]?!1:arguments[3];if(a=(0,z.coerceArgToString)(a,"find",1),b=(0,z.coerceArgToString)(b,"find",2),c=(0,z.coerceArgToNumber)(c,"find",3),d=(0,z.coerceToBoolean)(d),!d){b=e(b);var f=new RegExp(b),g=a.substr(c-1).search(f);if(0>g)return;var h=a.substr(c-1).match(f),i=[g+c,g+c+h[0].length-1];return h.shift(),i.concat(h)}var j=a.indexOf(b,c-1);return-1===j?void 0:[j+1,j+b.length]}function j(a){for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;b>d;d++)c[d-1]=arguments[d];return y["default"].apply(void 0,[a].concat(c))}function k(a,b){a=(0,z.coerceArgToString)(a,"gmatch",1),b=(0,z.coerceArgToString)(b,"gmatch",2),b=e(b);var c=new RegExp(b,"g"),d=a.match(c);return function(){var a=d.shift(),c=new RegExp(b).exec(a);if(void 0!==a)return c.shift(),c.length?c:a}}function l(a,b,c){var d=arguments.length<=3||void 0===arguments[3]?1/0:arguments[3];a=(0,z.coerceArgToString)(a,"gsub",1),b=(0,z.coerceArgToString)(b,"gsub",2),d=(0,z.coerceArgToNumber)(d,"gsub",3),b=e(""+b);for(var f="function"==typeof c,g=0,h="",i=void 0,j=void 0,k=void 0,l=void 0;d>g&&a&&(k=a.match(b));)f?(i=c(k[0]),i instanceof Array&&(i=i[0]),void 0===i&&(i=k[0])):i=c instanceof u["default"]?c.get(k[0]):"object"==typeof c?c[k]:(""+c).replace(/%([0-9])/g,function(a,b){return k[b]}),j=0===k[0].length&&void 0===l?"":a.split(k[0],1)[0],l=k[0],h+=""+j+i,a=a.substr((""+j+l).length),g++;return[""+h+a,g]}function m(a){return a=(0,z.coerceArgToString)(a,"len",1),a.length}function n(a){return a=(0,z.coerceArgToString)(a,"lower",1),a.toLowerCase()}function o(a,b){var c=arguments.length<=2||void 0===arguments[2]?0:arguments[2];a=(0,z.coerceArgToString)(a,"match",1),b=(0,z.coerceArgToString)(b,"match",2),c=(0,z.coerceArgToNumber)(c,"match",3),a=a.substr(c);var d=a.match(new RegExp(e(b)));return d?d[1]?(d.shift(),d):d[0]:void 0}function p(a,b){return a=(0,z.coerceArgToString)(a,"rep",1),b=(0,z.coerceArgToNumber)(b,"rep",2),Array(b+1).join(a)}function q(a){return a=(0,z.coerceArgToString)(a,"reverse",1),Array.prototype.map.call(a,function(a){return a}).reverse().join("")}function r(a,b,c){return void 0===b&&(b=1),a=(0,z.coerceArgToString)(a,"sub",1),b=(0,z.coerceArgToNumber)(b,"sub",2),void 0===c?a.length:c=(0,z.coerceArgToNumber)(c,"sub",3),b>0?b-=1:0>b&&(b=a.length+b),0>c&&(c=a.length+c+1),a.substring(b,c)}function s(a){return a=(0,z.coerceArgToString)(a,"upper",1),a.toUpperCase()}Object.defineProperty(c,"__esModule",{value:!0}),c["byte"]=f,c["char"]=g,c.dump=h,c.find=i,c.format=j,c.gmatch=k,c.gsub=l,c.len=m,c.lower=n,c.match=o,c.rep=p,c.reverse=q,c.sub=r,c.upper=s;var t=a("../Table"),u=d(t),v=a("../LuaError"),w=d(v),x=(a("./string"),a("printf")),y=d(x),z=a("../utils"),A={"([^a-zA-Z0-9%(])-":"$1*?","([^%])-([^a-zA-Z0-9?])":"$1*?$2","(.)-$":"$1*?","%a":"[a-zA-Z]","%A":"[^a-zA-Z]","%c":"[\x00-]","%C":"[^\x00-]","%d":"\\d","%D":"[^d]","%l":"[a-z]","%L":"[^a-z]","%p":"[.,\"'?!;:#$%&()*+-/<>=@\\[\\]\\\\^_{}|~]","%P":"[^.,\"'?!;:#$%&()*+-/<>=@\\[\\]\\\\^_{}|~]","%s":"[ \\t\\n\\f\\v\\r]","%S":"[^ 	\n\f\r]","%u":"[A-Z]","%U":"[^A-Z]","%w":"[a-zA-Z0-9]","%W":"[^a-zA-Z0-9]","%x":"[a-fA-F0-9]","%X":"[^a-fA-F0-9]","%([^a-zA-Z])":"\\$1"},B=new u["default"]({"byte":f,"char":g,dump:h,find:i,format:j,gmatch:k,gsub:l,len:m,lower:n,match:o,rep:p,reverse:q,sub:r,upper:s});c["default"]=B;var C=new u["default"]({__index:B});c.metatable=C},{"../LuaError":1,"../Table":3,"../utils":12,"./string":9,printf:38}],10:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b,c,d){return void 0===b&&(b=""),void 0===c&&(c=1),a=(0,n.coerceArgToTable)(a,"concat",1),b=(0,n.coerceArgToString)(b,"concat",2),c=(0,n.coerceArgToNumber)(c,"concat",3),d=void 0===d?h(a):(0,n.coerceArgToNumber)(d,"concat",4),[].concat(a.numValues).splice(c,d-c+1).join(b)}function f(a){a=(0,n.coerceArgToTable)(a,"getn",1);var b=a.numValues,c=[],d=0;for(var e in b)b.hasOwnProperty(e)&&(c[e]=!0);for(;c[d+1];)d++;if(d>0&&void 0===b[d]){for(var e=0;d-e>1;){var f=Math.floor((e+d)/2);void 0===b[f]?d=f:e=f}return e}return d}function g(a,b,c){a=(0,n.coerceArgToTable)(a,"insert",1),void 0===c?(c=b,b=a.numValues.length):b=(0,n.coerceArgToNumber)(b,"insert",2),a.numValues.splice(b,0,void 0),a.set(b,c)}function h(a){return a=(0,n.coerceArgToTable)(a,"maxn",1),a.numValues.length-1}function i(a,b){a=(0,n.coerceArgToTable)(a,"remove",1),b=(0,n.coerceArgToNumber)(b,"remove",2);var c=f(a),d=a.numValues;if(!(b>c)){void 0===b&&(b=c);for(var e=d.splice(b,1);c>b&&void 0===d[b];)delete d[b++];return e}}function j(a,b){a=(0,n.coerceArgToTable)(a,"sort",1);var c=void 0,d=a.numValues;b?(b=(0,n.coerceArgToFunction)(b,"sort",2),c=function(a,c){return(0,n.coerceToBoolean)(b(a,c)[0])?-1:1}):c=function(a,b){return b>a?-1:1},d.shift(),d.sort(c).unshift(void 0)}Object.defineProperty(c,"__esModule",{value:!0}),c.concat=e,c.getn=f,c.insert=g,c.maxn=h,c.remove=i,c.sort=j;var k=a("../Table"),l=d(k),m=a("../LuaError"),n=(d(m),a("../utils"));c["default"]=new l["default"]({concat:e,getn:f,insert:g,maxn:h,remove:i,sort:j})},{"../LuaError":1,"../Table":3,"../utils":12}],11:[function(a,b,c){(function(d){"use strict";function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b,c,d){var e=void 0,f=void 0;return a&&a instanceof m["default"]&&(e=a.metatable)&&(f=e.rawget(c))||b&&b instanceof m["default"]&&(e=b.metatable)&&(f=e.rawget(c))?f(a,b)[0]:("number"!=typeof a&&(a=(0,n.coerceToNumber)(a,"attempt to perform arithmetic on a %type value")),"number"!=typeof b&&(b=(0,n.coerceToNumber)(b,"attempt to perform arithmetic on a %type value")),d(a,b))}function g(a,b){var c=void 0,d=void 0;return a&&a instanceof m["default"]&&(c=a.metatable)&&(d=c.rawget("__concat"))||b&&b instanceof m["default"]&&(c=b.metatable)&&(d=c.rawget("__concat"))?d(a,b)[0]:(b=(0,n.coerceToString)(b,"attempt to concatenate a %type value"),a=(0,n.coerceToString)(a,"attempt to concatenate a %type value"),""+a+b)}function h(a,b){var c,d,e;return b!==a&&a&&a instanceof m["default"]&&b&&b instanceof m["default"]&&(c=a.metatable)&&(d=b.metatable)&&c===d&&(e=c.rawget("__eq"))?!!e(a,b)[0]:a===b}function i(a,b){if(0===b||b===-(1/0)||b===1/0||d.isNaN(a)||d.isNaN(b))return NaN;var c=Math.abs(b),e=Math.abs(a)%c;return 0>a*b&&(e=c-e),0>b&&(e*=-1),e}function j(a){if(void 0===a)throw new q["default"]("attempt to get length of a nil value");if(a instanceof m["default"])return(0,o.getn)(a);if("object"==typeof a){var b=0;for(var c in a)a.hasOwnProperty(c)&&b++;return b}return a.length}function k(a){var b,c;return a&&a instanceof m["default"]&&(b=a.metatable)&&(c=b.rawget("__unm"))?c(a)[0]:("number"!=typeof a&&(a=(0,n.coerceToNumber)(a,"attempt to perform arithmetic on a %type value")),-a)}Object.defineProperty(c,"__esModule",{value:!0});var l=a("./Table"),m=e(l),n=a("./utils"),o=a("./lib/table"),p=a("./LuaError"),q=e(p),r={concat:g,len:j,eq:h,unm:k,bool:n.coerceToBoolean,neq:function(){return!h.apply(void 0,arguments)},not:function(){return!n.coerceToBoolean.apply(void 0,arguments)},add:function(a,b){return f(a,b,"__add",function(a,b){return a+b})},sub:function(a,b){return f(a,b,"__sub",function(a,b){return a-b})},mul:function(a,b){return f(a,b,"__mul",function(a,b){return a*b})},div:function(a,b){if(void 0===b)throw new q["default"]("attempt to perform arithmetic on a nil value");return f(a,b,"__div",function(a,b){return a/b})},mod:function(a,b){return f(a,b,"__mod",i)},pow:function(a,b){return f(a,b,"__pow",Math.pow)},lt:function(a,b){return f(a,b,"__lt",function(a,b){return b>a})},lte:function(a,b){return f(a,b,"__le",function(a,b){return b>=a})},gt:function(a,b){return!r.lte(a,b)},gte:function(a,b){return!r.lt(a,b)}};c["default"]=r,b.exports=c["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./LuaError":1,"./Table":3,"./lib/table":10,"./utils":12}],12:[function(a,b,c){(function(b){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(){console.log.apply(console,arguments)}function f(a,b){if(b)throw b=(""+b).replace(/\%type/gi,(0,o.type)(a)),new q["default"](b)}function g(a){return!(a===!1||void 0===a)}function h(a,b){var c=void 0,d=void 0,e=void 0;switch(!0){case"number"==typeof a:return a;case void 0===a:return;case"inf"===a:return 1/0;case"-inf"===a:return-(1/0);case"nan"===a:return NaN;default:return(""+a).match(t)?c=parseFloat(a):(d=(""+a).match(u))&&(e=d[3],((c=d[2])||e)&&(c=parseInt(c,16)||0,e&&(c+=parseInt(e,16)/Math.pow(16,e.length)),d[1]&&(c*=-1))),void 0===c&&f(a,b),c}}function i(a,c){switch(!0){case"string"==typeof a:return a;case void 0===a:case null===a:return"nil";case a===1/0:return"inf";case a===-(1/0):return"-inf";case"number"==typeof a:case"boolean"==typeof a:return b.isNaN(a)?"nan":""+a;default:return f(a,c)||""}}function j(a,b,c,d,e){return b(a,"bad argument #"+e+" to '"+d+"' ("+c+" expected, got %type)")}function k(a,b,c){return j(a,h,"number",b,c)}function l(a,b,c){return j(a,i,"string",b,c)}function m(a,b,c){if(a instanceof s["default"])return a;var d=(0,o.type)(a);throw new q["default"]("bad argument #"+c+" to '"+b+"' (table expected, got "+d+")")}function n(a,b,c){if(a instanceof Function)return a;var d=(0,o.type)(a);throw new q["default"]("bad argument #"+c+" to '"+b+"' (function expected, got "+d+")")}Object.defineProperty(c,"__esModule",{value:!0}),c.coerceToBoolean=g,c.coerceToNumber=h,c.coerceToString=i,c.coerceArgToNumber=k,c.coerceArgToString=l,c.coerceArgToTable=m,c.coerceArgToFunction=n;var o=a("./lib/globals"),p=a("./LuaError"),q=d(p),r=a("./Table"),s=d(r),t=/^[-+]?[0-9]*\.?([0-9]+([eE][-+]?[0-9]+)?)?$/,u=/^(\-)?0x([0-9a-fA-F]*)\.?([0-9a-fA-F]*)$/,v={writeln:function(){var a=void 0,c=void 0,d=void 0;return(a=b.starlight)&&(c=a.config)&&(d=c.stdout)&&d.writeln||e}()};c.stdout=v}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./LuaError":1,"./Table":3,"./lib/globals":5}],13:[function(a,b,c){},{}],14:[function(a,b,c){(function(b){function d(){function a(){}try{var b=new Uint8Array(1);return b.foo=function(){return 42},b.constructor=a,42===b.foo()&&b.constructor===a&&"function"==typeof b.subarray&&0===b.subarray(1,1).byteLength}catch(c){return!1}}function e(){return f.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function f(a){return this instanceof f?(this.length=0,this.parent=void 0,"number"==typeof a?g(this,a):"string"==typeof a?h(this,a,arguments.length>1?arguments[1]:"utf8"):i(this,a)):arguments.length>1?new f(a,arguments[1]):new f(a);
}function g(a,b){if(a=p(a,0>b?0:0|q(b)),!f.TYPED_ARRAY_SUPPORT)for(var c=0;b>c;c++)a[c]=0;return a}function h(a,b,c){("string"!=typeof c||""===c)&&(c="utf8");var d=0|s(b,c);return a=p(a,d),a.write(b,c),a}function i(a,b){if(f.isBuffer(b))return j(a,b);if(Y(b))return k(a,b);if(null==b)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(b.buffer instanceof ArrayBuffer)return l(a,b);if(b instanceof ArrayBuffer)return m(a,b)}return b.length?n(a,b):o(a,b)}function j(a,b){var c=0|q(b.length);return a=p(a,c),b.copy(a,0,0,c),a}function k(a,b){var c=0|q(b.length);a=p(a,c);for(var d=0;c>d;d+=1)a[d]=255&b[d];return a}function l(a,b){var c=0|q(b.length);a=p(a,c);for(var d=0;c>d;d+=1)a[d]=255&b[d];return a}function m(a,b){return f.TYPED_ARRAY_SUPPORT?(b.byteLength,a=f._augment(new Uint8Array(b))):a=l(a,new Uint8Array(b)),a}function n(a,b){var c=0|q(b.length);a=p(a,c);for(var d=0;c>d;d+=1)a[d]=255&b[d];return a}function o(a,b){var c,d=0;"Buffer"===b.type&&Y(b.data)&&(c=b.data,d=0|q(c.length)),a=p(a,d);for(var e=0;d>e;e+=1)a[e]=255&c[e];return a}function p(a,b){f.TYPED_ARRAY_SUPPORT?(a=f._augment(new Uint8Array(b)),a.__proto__=f.prototype):(a.length=b,a._isBuffer=!0);var c=0!==b&&b<=f.poolSize>>>1;return c&&(a.parent=Z),a}function q(a){if(a>=e())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+e().toString(16)+" bytes");return 0|a}function r(a,b){if(!(this instanceof r))return new r(a,b);var c=new f(a,b);return delete c.parent,c}function s(a,b){"string"!=typeof a&&(a=""+a);var c=a.length;if(0===c)return 0;for(var d=!1;;)switch(b){case"ascii":case"binary":case"raw":case"raws":return c;case"utf8":case"utf-8":return R(a).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*c;case"hex":return c>>>1;case"base64":return U(a).length;default:if(d)return R(a).length;b=(""+b).toLowerCase(),d=!0}}function t(a,b,c){var d=!1;if(b=0|b,c=void 0===c||c===1/0?this.length:0|c,a||(a="utf8"),0>b&&(b=0),c>this.length&&(c=this.length),b>=c)return"";for(;;)switch(a){case"hex":return F(this,b,c);case"utf8":case"utf-8":return B(this,b,c);case"ascii":return D(this,b,c);case"binary":return E(this,b,c);case"base64":return A(this,b,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G(this,b,c);default:if(d)throw new TypeError("Unknown encoding: "+a);a=(a+"").toLowerCase(),d=!0}}function u(a,b,c,d){c=Number(c)||0;var e=a.length-c;d?(d=Number(d),d>e&&(d=e)):d=e;var f=b.length;if(f%2!==0)throw new Error("Invalid hex string");d>f/2&&(d=f/2);for(var g=0;d>g;g++){var h=parseInt(b.substr(2*g,2),16);if(isNaN(h))throw new Error("Invalid hex string");a[c+g]=h}return g}function v(a,b,c,d){return V(R(b,a.length-c),a,c,d)}function w(a,b,c,d){return V(S(b),a,c,d)}function x(a,b,c,d){return w(a,b,c,d)}function y(a,b,c,d){return V(U(b),a,c,d)}function z(a,b,c,d){return V(T(b,a.length-c),a,c,d)}function A(a,b,c){return 0===b&&c===a.length?W.fromByteArray(a):W.fromByteArray(a.slice(b,c))}function B(a,b,c){c=Math.min(a.length,c);for(var d=[],e=b;c>e;){var f=a[e],g=null,h=f>239?4:f>223?3:f>191?2:1;if(c>=e+h){var i,j,k,l;switch(h){case 1:128>f&&(g=f);break;case 2:i=a[e+1],128===(192&i)&&(l=(31&f)<<6|63&i,l>127&&(g=l));break;case 3:i=a[e+1],j=a[e+2],128===(192&i)&&128===(192&j)&&(l=(15&f)<<12|(63&i)<<6|63&j,l>2047&&(55296>l||l>57343)&&(g=l));break;case 4:i=a[e+1],j=a[e+2],k=a[e+3],128===(192&i)&&128===(192&j)&&128===(192&k)&&(l=(15&f)<<18|(63&i)<<12|(63&j)<<6|63&k,l>65535&&1114112>l&&(g=l))}}null===g?(g=65533,h=1):g>65535&&(g-=65536,d.push(g>>>10&1023|55296),g=56320|1023&g),d.push(g),e+=h}return C(d)}function C(a){var b=a.length;if($>=b)return String.fromCharCode.apply(String,a);for(var c="",d=0;b>d;)c+=String.fromCharCode.apply(String,a.slice(d,d+=$));return c}function D(a,b,c){var d="";c=Math.min(a.length,c);for(var e=b;c>e;e++)d+=String.fromCharCode(127&a[e]);return d}function E(a,b,c){var d="";c=Math.min(a.length,c);for(var e=b;c>e;e++)d+=String.fromCharCode(a[e]);return d}function F(a,b,c){var d=a.length;(!b||0>b)&&(b=0),(!c||0>c||c>d)&&(c=d);for(var e="",f=b;c>f;f++)e+=Q(a[f]);return e}function G(a,b,c){for(var d=a.slice(b,c),e="",f=0;f<d.length;f+=2)e+=String.fromCharCode(d[f]+256*d[f+1]);return e}function H(a,b,c){if(a%1!==0||0>a)throw new RangeError("offset is not uint");if(a+b>c)throw new RangeError("Trying to access beyond buffer length")}function I(a,b,c,d,e,g){if(!f.isBuffer(a))throw new TypeError("buffer must be a Buffer instance");if(b>e||g>b)throw new RangeError("value is out of bounds");if(c+d>a.length)throw new RangeError("index out of range")}function J(a,b,c,d){0>b&&(b=65535+b+1);for(var e=0,f=Math.min(a.length-c,2);f>e;e++)a[c+e]=(b&255<<8*(d?e:1-e))>>>8*(d?e:1-e)}function K(a,b,c,d){0>b&&(b=4294967295+b+1);for(var e=0,f=Math.min(a.length-c,4);f>e;e++)a[c+e]=b>>>8*(d?e:3-e)&255}function L(a,b,c,d,e,f){if(b>e||f>b)throw new RangeError("value is out of bounds");if(c+d>a.length)throw new RangeError("index out of range");if(0>c)throw new RangeError("index out of range")}function M(a,b,c,d,e){return e||L(a,b,c,4,3.4028234663852886e38,-3.4028234663852886e38),X.write(a,b,c,d,23,4),c+4}function N(a,b,c,d,e){return e||L(a,b,c,8,1.7976931348623157e308,-1.7976931348623157e308),X.write(a,b,c,d,52,8),c+8}function O(a){if(a=P(a).replace(aa,""),a.length<2)return"";for(;a.length%4!==0;)a+="=";return a}function P(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function Q(a){return 16>a?"0"+a.toString(16):a.toString(16)}function R(a,b){b=b||1/0;for(var c,d=a.length,e=null,f=[],g=0;d>g;g++){if(c=a.charCodeAt(g),c>55295&&57344>c){if(!e){if(c>56319){(b-=3)>-1&&f.push(239,191,189);continue}if(g+1===d){(b-=3)>-1&&f.push(239,191,189);continue}e=c;continue}if(56320>c){(b-=3)>-1&&f.push(239,191,189),e=c;continue}c=e-55296<<10|c-56320|65536}else e&&(b-=3)>-1&&f.push(239,191,189);if(e=null,128>c){if((b-=1)<0)break;f.push(c)}else if(2048>c){if((b-=2)<0)break;f.push(c>>6|192,63&c|128)}else if(65536>c){if((b-=3)<0)break;f.push(c>>12|224,c>>6&63|128,63&c|128)}else{if(!(1114112>c))throw new Error("Invalid code point");if((b-=4)<0)break;f.push(c>>18|240,c>>12&63|128,c>>6&63|128,63&c|128)}}return f}function S(a){for(var b=[],c=0;c<a.length;c++)b.push(255&a.charCodeAt(c));return b}function T(a,b){for(var c,d,e,f=[],g=0;g<a.length&&!((b-=2)<0);g++)c=a.charCodeAt(g),d=c>>8,e=c%256,f.push(e),f.push(d);return f}function U(a){return W.toByteArray(O(a))}function V(a,b,c,d){for(var e=0;d>e&&!(e+c>=b.length||e>=a.length);e++)b[e+c]=a[e];return e}var W=a("base64-js"),X=a("ieee754"),Y=a("is-array");c.Buffer=f,c.SlowBuffer=r,c.INSPECT_MAX_BYTES=50,f.poolSize=8192;var Z={};f.TYPED_ARRAY_SUPPORT=void 0!==b.TYPED_ARRAY_SUPPORT?b.TYPED_ARRAY_SUPPORT:d(),f.TYPED_ARRAY_SUPPORT&&(f.prototype.__proto__=Uint8Array.prototype,f.__proto__=Uint8Array),f.isBuffer=function(a){return!(null==a||!a._isBuffer)},f.compare=function(a,b){if(!f.isBuffer(a)||!f.isBuffer(b))throw new TypeError("Arguments must be Buffers");if(a===b)return 0;for(var c=a.length,d=b.length,e=0,g=Math.min(c,d);g>e&&a[e]===b[e];)++e;return e!==g&&(c=a[e],d=b[e]),d>c?-1:c>d?1:0},f.isEncoding=function(a){switch(String(a).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(a,b){if(!Y(a))throw new TypeError("list argument must be an Array of Buffers.");if(0===a.length)return new f(0);var c;if(void 0===b)for(b=0,c=0;c<a.length;c++)b+=a[c].length;var d=new f(b),e=0;for(c=0;c<a.length;c++){var g=a[c];g.copy(d,e),e+=g.length}return d},f.byteLength=s,f.prototype.length=void 0,f.prototype.parent=void 0,f.prototype.toString=function(){var a=0|this.length;return 0===a?"":0===arguments.length?B(this,0,a):t.apply(this,arguments)},f.prototype.equals=function(a){if(!f.isBuffer(a))throw new TypeError("Argument must be a Buffer");return this===a?!0:0===f.compare(this,a)},f.prototype.inspect=function(){var a="",b=c.INSPECT_MAX_BYTES;return this.length>0&&(a=this.toString("hex",0,b).match(/.{2}/g).join(" "),this.length>b&&(a+=" ... ")),"<Buffer "+a+">"},f.prototype.compare=function(a){if(!f.isBuffer(a))throw new TypeError("Argument must be a Buffer");return this===a?0:f.compare(this,a)},f.prototype.indexOf=function(a,b){function c(a,b,c){for(var d=-1,e=0;c+e<a.length;e++)if(a[c+e]===b[-1===d?0:e-d]){if(-1===d&&(d=e),e-d+1===b.length)return c+d}else d=-1;return-1}if(b>2147483647?b=2147483647:-2147483648>b&&(b=-2147483648),b>>=0,0===this.length)return-1;if(b>=this.length)return-1;if(0>b&&(b=Math.max(this.length+b,0)),"string"==typeof a)return 0===a.length?-1:String.prototype.indexOf.call(this,a,b);if(f.isBuffer(a))return c(this,a,b);if("number"==typeof a)return f.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,a,b):c(this,[a],b);throw new TypeError("val must be string, number or Buffer")},f.prototype.get=function(a){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(a)},f.prototype.set=function(a,b){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(a,b)},f.prototype.write=function(a,b,c,d){if(void 0===b)d="utf8",c=this.length,b=0;else if(void 0===c&&"string"==typeof b)d=b,c=this.length,b=0;else if(isFinite(b))b=0|b,isFinite(c)?(c=0|c,void 0===d&&(d="utf8")):(d=c,c=void 0);else{var e=d;d=b,b=0|c,c=e}var f=this.length-b;if((void 0===c||c>f)&&(c=f),a.length>0&&(0>c||0>b)||b>this.length)throw new RangeError("attempt to write outside buffer bounds");d||(d="utf8");for(var g=!1;;)switch(d){case"hex":return u(this,a,b,c);case"utf8":case"utf-8":return v(this,a,b,c);case"ascii":return w(this,a,b,c);case"binary":return x(this,a,b,c);case"base64":return y(this,a,b,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,a,b,c);default:if(g)throw new TypeError("Unknown encoding: "+d);d=(""+d).toLowerCase(),g=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var $=4096;f.prototype.slice=function(a,b){var c=this.length;a=~~a,b=void 0===b?c:~~b,0>a?(a+=c,0>a&&(a=0)):a>c&&(a=c),0>b?(b+=c,0>b&&(b=0)):b>c&&(b=c),a>b&&(b=a);var d;if(f.TYPED_ARRAY_SUPPORT)d=f._augment(this.subarray(a,b));else{var e=b-a;d=new f(e,void 0);for(var g=0;e>g;g++)d[g]=this[g+a]}return d.length&&(d.parent=this.parent||this),d},f.prototype.readUIntLE=function(a,b,c){a=0|a,b=0|b,c||H(a,b,this.length);for(var d=this[a],e=1,f=0;++f<b&&(e*=256);)d+=this[a+f]*e;return d},f.prototype.readUIntBE=function(a,b,c){a=0|a,b=0|b,c||H(a,b,this.length);for(var d=this[a+--b],e=1;b>0&&(e*=256);)d+=this[a+--b]*e;return d},f.prototype.readUInt8=function(a,b){return b||H(a,1,this.length),this[a]},f.prototype.readUInt16LE=function(a,b){return b||H(a,2,this.length),this[a]|this[a+1]<<8},f.prototype.readUInt16BE=function(a,b){return b||H(a,2,this.length),this[a]<<8|this[a+1]},f.prototype.readUInt32LE=function(a,b){return b||H(a,4,this.length),(this[a]|this[a+1]<<8|this[a+2]<<16)+16777216*this[a+3]},f.prototype.readUInt32BE=function(a,b){return b||H(a,4,this.length),16777216*this[a]+(this[a+1]<<16|this[a+2]<<8|this[a+3])},f.prototype.readIntLE=function(a,b,c){a=0|a,b=0|b,c||H(a,b,this.length);for(var d=this[a],e=1,f=0;++f<b&&(e*=256);)d+=this[a+f]*e;return e*=128,d>=e&&(d-=Math.pow(2,8*b)),d},f.prototype.readIntBE=function(a,b,c){a=0|a,b=0|b,c||H(a,b,this.length);for(var d=b,e=1,f=this[a+--d];d>0&&(e*=256);)f+=this[a+--d]*e;return e*=128,f>=e&&(f-=Math.pow(2,8*b)),f},f.prototype.readInt8=function(a,b){return b||H(a,1,this.length),128&this[a]?-1*(255-this[a]+1):this[a]},f.prototype.readInt16LE=function(a,b){b||H(a,2,this.length);var c=this[a]|this[a+1]<<8;return 32768&c?4294901760|c:c},f.prototype.readInt16BE=function(a,b){b||H(a,2,this.length);var c=this[a+1]|this[a]<<8;return 32768&c?4294901760|c:c},f.prototype.readInt32LE=function(a,b){return b||H(a,4,this.length),this[a]|this[a+1]<<8|this[a+2]<<16|this[a+3]<<24},f.prototype.readInt32BE=function(a,b){return b||H(a,4,this.length),this[a]<<24|this[a+1]<<16|this[a+2]<<8|this[a+3]},f.prototype.readFloatLE=function(a,b){return b||H(a,4,this.length),X.read(this,a,!0,23,4)},f.prototype.readFloatBE=function(a,b){return b||H(a,4,this.length),X.read(this,a,!1,23,4)},f.prototype.readDoubleLE=function(a,b){return b||H(a,8,this.length),X.read(this,a,!0,52,8)},f.prototype.readDoubleBE=function(a,b){return b||H(a,8,this.length),X.read(this,a,!1,52,8)},f.prototype.writeUIntLE=function(a,b,c,d){a=+a,b=0|b,c=0|c,d||I(this,a,b,c,Math.pow(2,8*c),0);var e=1,f=0;for(this[b]=255&a;++f<c&&(e*=256);)this[b+f]=a/e&255;return b+c},f.prototype.writeUIntBE=function(a,b,c,d){a=+a,b=0|b,c=0|c,d||I(this,a,b,c,Math.pow(2,8*c),0);var e=c-1,f=1;for(this[b+e]=255&a;--e>=0&&(f*=256);)this[b+e]=a/f&255;return b+c},f.prototype.writeUInt8=function(a,b,c){return a=+a,b=0|b,c||I(this,a,b,1,255,0),f.TYPED_ARRAY_SUPPORT||(a=Math.floor(a)),this[b]=255&a,b+1},f.prototype.writeUInt16LE=function(a,b,c){return a=+a,b=0|b,c||I(this,a,b,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8):J(this,a,b,!0),b+2},f.prototype.writeUInt16BE=function(a,b,c){return a=+a,b=0|b,c||I(this,a,b,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[b]=a>>>8,this[b+1]=255&a):J(this,a,b,!1),b+2},f.prototype.writeUInt32LE=function(a,b,c){return a=+a,b=0|b,c||I(this,a,b,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[b+3]=a>>>24,this[b+2]=a>>>16,this[b+1]=a>>>8,this[b]=255&a):K(this,a,b,!0),b+4},f.prototype.writeUInt32BE=function(a,b,c){return a=+a,b=0|b,c||I(this,a,b,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=255&a):K(this,a,b,!1),b+4},f.prototype.writeIntLE=function(a,b,c,d){if(a=+a,b=0|b,!d){var e=Math.pow(2,8*c-1);I(this,a,b,c,e-1,-e)}var f=0,g=1,h=0>a?1:0;for(this[b]=255&a;++f<c&&(g*=256);)this[b+f]=(a/g>>0)-h&255;return b+c},f.prototype.writeIntBE=function(a,b,c,d){if(a=+a,b=0|b,!d){var e=Math.pow(2,8*c-1);I(this,a,b,c,e-1,-e)}var f=c-1,g=1,h=0>a?1:0;for(this[b+f]=255&a;--f>=0&&(g*=256);)this[b+f]=(a/g>>0)-h&255;return b+c},f.prototype.writeInt8=function(a,b,c){return a=+a,b=0|b,c||I(this,a,b,1,127,-128),f.TYPED_ARRAY_SUPPORT||(a=Math.floor(a)),0>a&&(a=255+a+1),this[b]=255&a,b+1},f.prototype.writeInt16LE=function(a,b,c){return a=+a,b=0|b,c||I(this,a,b,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8):J(this,a,b,!0),b+2},f.prototype.writeInt16BE=function(a,b,c){return a=+a,b=0|b,c||I(this,a,b,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[b]=a>>>8,this[b+1]=255&a):J(this,a,b,!1),b+2},f.prototype.writeInt32LE=function(a,b,c){return a=+a,b=0|b,c||I(this,a,b,4,2147483647,-2147483648),f.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8,this[b+2]=a>>>16,this[b+3]=a>>>24):K(this,a,b,!0),b+4},f.prototype.writeInt32BE=function(a,b,c){return a=+a,b=0|b,c||I(this,a,b,4,2147483647,-2147483648),0>a&&(a=4294967295+a+1),f.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=255&a):K(this,a,b,!1),b+4},f.prototype.writeFloatLE=function(a,b,c){return M(this,a,b,!0,c)},f.prototype.writeFloatBE=function(a,b,c){return M(this,a,b,!1,c)},f.prototype.writeDoubleLE=function(a,b,c){return N(this,a,b,!0,c)},f.prototype.writeDoubleBE=function(a,b,c){return N(this,a,b,!1,c)},f.prototype.copy=function(a,b,c,d){if(c||(c=0),d||0===d||(d=this.length),b>=a.length&&(b=a.length),b||(b=0),d>0&&c>d&&(d=c),d===c)return 0;if(0===a.length||0===this.length)return 0;if(0>b)throw new RangeError("targetStart out of bounds");if(0>c||c>=this.length)throw new RangeError("sourceStart out of bounds");if(0>d)throw new RangeError("sourceEnd out of bounds");d>this.length&&(d=this.length),a.length-b<d-c&&(d=a.length-b+c);var e,g=d-c;if(this===a&&b>c&&d>b)for(e=g-1;e>=0;e--)a[e+b]=this[e+c];else if(1e3>g||!f.TYPED_ARRAY_SUPPORT)for(e=0;g>e;e++)a[e+b]=this[e+c];else a._set(this.subarray(c,c+g),b);return g},f.prototype.fill=function(a,b,c){if(a||(a=0),b||(b=0),c||(c=this.length),b>c)throw new RangeError("end < start");if(c!==b&&0!==this.length){if(0>b||b>=this.length)throw new RangeError("start out of bounds");if(0>c||c>this.length)throw new RangeError("end out of bounds");var d;if("number"==typeof a)for(d=b;c>d;d++)this[d]=a;else{var e=R(a.toString()),f=e.length;for(d=b;c>d;d++)this[d]=e[d%f]}return this}},f.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(f.TYPED_ARRAY_SUPPORT)return new f(this).buffer;for(var a=new Uint8Array(this.length),b=0,c=a.length;c>b;b+=1)a[b]=this[b];return a.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var _=f.prototype;f._augment=function(a){return a.constructor=f,a._isBuffer=!0,a._set=a.set,a.get=_.get,a.set=_.set,a.write=_.write,a.toString=_.toString,a.toLocaleString=_.toString,a.toJSON=_.toJSON,a.equals=_.equals,a.compare=_.compare,a.indexOf=_.indexOf,a.copy=_.copy,a.slice=_.slice,a.readUIntLE=_.readUIntLE,a.readUIntBE=_.readUIntBE,a.readUInt8=_.readUInt8,a.readUInt16LE=_.readUInt16LE,a.readUInt16BE=_.readUInt16BE,a.readUInt32LE=_.readUInt32LE,a.readUInt32BE=_.readUInt32BE,a.readIntLE=_.readIntLE,a.readIntBE=_.readIntBE,a.readInt8=_.readInt8,a.readInt16LE=_.readInt16LE,a.readInt16BE=_.readInt16BE,a.readInt32LE=_.readInt32LE,a.readInt32BE=_.readInt32BE,a.readFloatLE=_.readFloatLE,a.readFloatBE=_.readFloatBE,a.readDoubleLE=_.readDoubleLE,a.readDoubleBE=_.readDoubleBE,a.writeUInt8=_.writeUInt8,a.writeUIntLE=_.writeUIntLE,a.writeUIntBE=_.writeUIntBE,a.writeUInt16LE=_.writeUInt16LE,a.writeUInt16BE=_.writeUInt16BE,a.writeUInt32LE=_.writeUInt32LE,a.writeUInt32BE=_.writeUInt32BE,a.writeIntLE=_.writeIntLE,a.writeIntBE=_.writeIntBE,a.writeInt8=_.writeInt8,a.writeInt16LE=_.writeInt16LE,a.writeInt16BE=_.writeInt16BE,a.writeInt32LE=_.writeInt32LE,a.writeInt32BE=_.writeInt32BE,a.writeFloatLE=_.writeFloatLE,a.writeFloatBE=_.writeFloatBE,a.writeDoubleLE=_.writeDoubleLE,a.writeDoubleBE=_.writeDoubleBE,a.fill=_.fill,a.inspect=_.inspect,a.toArrayBuffer=_.toArrayBuffer,a};var aa=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":15,ieee754:16,"is-array":17}],15:[function(a,b,c){var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(a){"use strict";function b(a){var b=a.charCodeAt(0);return b===g||b===l?62:b===h||b===m?63:i>b?-1:i+10>b?b-i+26+26:k+26>b?b-k:j+26>b?b-j+26:void 0}function c(a){function c(a){j[l++]=a}var d,e,g,h,i,j;if(a.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var k=a.length;i="="===a.charAt(k-2)?2:"="===a.charAt(k-1)?1:0,j=new f(3*a.length/4-i),g=i>0?a.length-4:a.length;var l=0;for(d=0,e=0;g>d;d+=4,e+=3)h=b(a.charAt(d))<<18|b(a.charAt(d+1))<<12|b(a.charAt(d+2))<<6|b(a.charAt(d+3)),c((16711680&h)>>16),c((65280&h)>>8),c(255&h);return 2===i?(h=b(a.charAt(d))<<2|b(a.charAt(d+1))>>4,c(255&h)):1===i&&(h=b(a.charAt(d))<<10|b(a.charAt(d+1))<<4|b(a.charAt(d+2))>>2,c(h>>8&255),c(255&h)),j}function e(a){function b(a){return d.charAt(a)}function c(a){return b(a>>18&63)+b(a>>12&63)+b(a>>6&63)+b(63&a)}var e,f,g,h=a.length%3,i="";for(e=0,g=a.length-h;g>e;e+=3)f=(a[e]<<16)+(a[e+1]<<8)+a[e+2],i+=c(f);switch(h){case 1:f=a[a.length-1],i+=b(f>>2),i+=b(f<<4&63),i+="==";break;case 2:f=(a[a.length-2]<<8)+a[a.length-1],i+=b(f>>10),i+=b(f>>4&63),i+=b(f<<2&63),i+="="}return i}var f="undefined"!=typeof Uint8Array?Uint8Array:Array,g="+".charCodeAt(0),h="/".charCodeAt(0),i="0".charCodeAt(0),j="a".charCodeAt(0),k="A".charCodeAt(0),l="-".charCodeAt(0),m="_".charCodeAt(0);a.toByteArray=c,a.fromByteArray=e}("undefined"==typeof c?this.base64js={}:c)},{}],16:[function(a,b,c){c.read=function(a,b,c,d,e){var f,g,h=8*e-d-1,i=(1<<h)-1,j=i>>1,k=-7,l=c?e-1:0,m=c?-1:1,n=a[b+l];for(l+=m,f=n&(1<<-k)-1,n>>=-k,k+=h;k>0;f=256*f+a[b+l],l+=m,k-=8);for(g=f&(1<<-k)-1,f>>=-k,k+=d;k>0;g=256*g+a[b+l],l+=m,k-=8);if(0===f)f=1-j;else{if(f===i)return g?NaN:(n?-1:1)*(1/0);g+=Math.pow(2,d),f-=j}return(n?-1:1)*g*Math.pow(2,f-d)},c.write=function(a,b,c,d,e,f){var g,h,i,j=8*f-e-1,k=(1<<j)-1,l=k>>1,m=23===e?Math.pow(2,-24)-Math.pow(2,-77):0,n=d?0:f-1,o=d?1:-1,p=0>b||0===b&&0>1/b?1:0;for(b=Math.abs(b),isNaN(b)||b===1/0?(h=isNaN(b)?1:0,g=k):(g=Math.floor(Math.log(b)/Math.LN2),b*(i=Math.pow(2,-g))<1&&(g--,i*=2),b+=g+l>=1?m/i:m*Math.pow(2,1-l),b*i>=2&&(g++,i/=2),g+l>=k?(h=0,g=k):g+l>=1?(h=(b*i-1)*Math.pow(2,e),g+=l):(h=b*Math.pow(2,l-1)*Math.pow(2,e),g=0));e>=8;a[c+n]=255&h,n+=o,h/=256,e-=8);for(g=g<<e|h,j+=e;j>0;a[c+n]=255&g,n+=o,g/=256,j-=8);a[c+n-o]|=128*p}},{}],17:[function(a,b,c){var d=Array.isArray,e=Object.prototype.toString;b.exports=d||function(a){return!!a&&"[object Array]"==e.call(a)}},{}],18:[function(a,b,c){function d(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function e(a){return"function"==typeof a}function f(a){return"number"==typeof a}function g(a){return"object"==typeof a&&null!==a}function h(a){return void 0===a}b.exports=d,d.EventEmitter=d,d.prototype._events=void 0,d.prototype._maxListeners=void 0,d.defaultMaxListeners=10,d.prototype.setMaxListeners=function(a){if(!f(a)||0>a||isNaN(a))throw TypeError("n must be a positive number");return this._maxListeners=a,this},d.prototype.emit=function(a){var b,c,d,f,i,j;if(this._events||(this._events={}),"error"===a&&(!this._events.error||g(this._events.error)&&!this._events.error.length)){if(b=arguments[1],b instanceof Error)throw b;throw TypeError('Uncaught, unspecified "error" event.')}if(c=this._events[a],h(c))return!1;if(e(c))switch(arguments.length){case 1:c.call(this);break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:for(d=arguments.length,f=new Array(d-1),i=1;d>i;i++)f[i-1]=arguments[i];c.apply(this,f)}else if(g(c)){for(d=arguments.length,f=new Array(d-1),i=1;d>i;i++)f[i-1]=arguments[i];for(j=c.slice(),d=j.length,i=0;d>i;i++)j[i].apply(this,f)}return!0},d.prototype.addListener=function(a,b){var c;if(!e(b))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",a,e(b.listener)?b.listener:b),this._events[a]?g(this._events[a])?this._events[a].push(b):this._events[a]=[this._events[a],b]:this._events[a]=b,g(this._events[a])&&!this._events[a].warned){var c;c=h(this._maxListeners)?d.defaultMaxListeners:this._maxListeners,c&&c>0&&this._events[a].length>c&&(this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),"function"==typeof console.trace&&console.trace())}return this},d.prototype.on=d.prototype.addListener,d.prototype.once=function(a,b){function c(){this.removeListener(a,c),d||(d=!0,b.apply(this,arguments))}if(!e(b))throw TypeError("listener must be a function");var d=!1;return c.listener=b,this.on(a,c),this},d.prototype.removeListener=function(a,b){var c,d,f,h;if(!e(b))throw TypeError("listener must be a function");if(!this._events||!this._events[a])return this;if(c=this._events[a],f=c.length,d=-1,c===b||e(c.listener)&&c.listener===b)delete this._events[a],this._events.removeListener&&this.emit("removeListener",a,b);else if(g(c)){for(h=f;h-->0;)if(c[h]===b||c[h].listener&&c[h].listener===b){d=h;break}if(0>d)return this;1===c.length?(c.length=0,delete this._events[a]):c.splice(d,1),this._events.removeListener&&this.emit("removeListener",a,b)}return this},d.prototype.removeAllListeners=function(a){var b,c;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[a]&&delete this._events[a],this;if(0===arguments.length){for(b in this._events)"removeListener"!==b&&this.removeAllListeners(b);return this.removeAllListeners("removeListener"),this._events={},this}if(c=this._events[a],e(c))this.removeListener(a,c);else for(;c.length;)this.removeListener(a,c[c.length-1]);return delete this._events[a],this},d.prototype.listeners=function(a){var b;return b=this._events&&this._events[a]?e(this._events[a])?[this._events[a]]:this._events[a].slice():[]},d.listenerCount=function(a,b){var c;return c=a._events&&a._events[b]?e(a._events[b])?1:a._events[b].length:0}},{}],19:[function(a,b,c){"function"==typeof Object.create?b.exports=function(a,b){a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:b.exports=function(a,b){a.super_=b;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}},{}],20:[function(a,b,c){b.exports=function(a){return!(null==a||!(a._isBuffer||a.constructor&&"function"==typeof a.constructor.isBuffer&&a.constructor.isBuffer(a)))}},{}],21:[function(a,b,c){b.exports=Array.isArray||function(a){return"[object Array]"==Object.prototype.toString.call(a)}},{}],22:[function(a,b,c){function d(){k=!1,h.length?j=h.concat(j):l=-1,j.length&&e()}function e(){if(!k){var a=setTimeout(d);k=!0;for(var b=j.length;b;){for(h=j,j=[];++l<b;)h&&h[l].run();l=-1,b=j.length}h=null,k=!1,clearTimeout(a)}}function f(a,b){this.fun=a,this.array=b}function g(){}var h,i=b.exports={},j=[],k=!1,l=-1;i.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];j.push(new f(a,b)),1!==j.length||k||setTimeout(e,0)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.binding=function(a){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(a){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],23:[function(a,b,c){b.exports=a("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":24}],24:[function(a,b,c){(function(c){function d(a){return this instanceof d?(i.call(this,a),j.call(this,a),a&&a.readable===!1&&(this.readable=!1),a&&a.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,a&&a.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",e)):new d(a)}function e(){this.allowHalfOpen||this._writableState.ended||c.nextTick(this.end.bind(this))}function f(a,b){for(var c=0,d=a.length;d>c;c++)b(a[c],c)}b.exports=d;var g=Object.keys||function(a){var b=[];for(var c in a)b.push(c);return b},h=a("core-util-is");h.inherits=a("inherits");var i=a("./_stream_readable"),j=a("./_stream_writable");h.inherits(d,i),f(g(j.prototype),function(a){d.prototype[a]||(d.prototype[a]=j.prototype[a])})}).call(this,a("_process"))},{"./_stream_readable":26,"./_stream_writable":28,_process:22,"core-util-is":29,inherits:19}],25:[function(a,b,c){function d(a){return this instanceof d?void e.call(this,a):new d(a)}b.exports=d;var e=a("./_stream_transform"),f=a("core-util-is");f.inherits=a("inherits"),f.inherits(d,e),d.prototype._transform=function(a,b,c){c(null,a)}},{"./_stream_transform":27,"core-util-is":29,inherits:19}],26:[function(a,b,c){(function(c){function d(b,c){var d=a("./_stream_duplex");b=b||{};var e=b.highWaterMark,f=b.objectMode?16:16384;this.highWaterMark=e||0===e?e:f,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!b.objectMode,c instanceof d&&(this.objectMode=this.objectMode||!!b.readableObjectMode),this.defaultEncoding=b.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,b.encoding&&(C||(C=a("string_decoder/").StringDecoder),this.decoder=new C(b.encoding),this.encoding=b.encoding)}function e(b){a("./_stream_duplex");return this instanceof e?(this._readableState=new d(b,this),this.readable=!0,void A.call(this)):new e(b)}function f(a,b,c,d,e){var f=j(b,c);if(f)a.emit("error",f);else if(B.isNullOrUndefined(c))b.reading=!1,b.ended||k(a,b);else if(b.objectMode||c&&c.length>0)if(b.ended&&!e){var h=new Error("stream.push() after EOF");a.emit("error",h)}else if(b.endEmitted&&e){var h=new Error("stream.unshift() after end event");a.emit("error",h)}else!b.decoder||e||d||(c=b.decoder.write(c)),e||(b.reading=!1),b.flowing&&0===b.length&&!b.sync?(a.emit("data",c),a.read(0)):(b.length+=b.objectMode?1:c.length,e?b.buffer.unshift(c):b.buffer.push(c),b.needReadable&&l(a)),n(a,b);else e||(b.reading=!1);return g(b)}function g(a){return!a.ended&&(a.needReadable||a.length<a.highWaterMark||0===a.length)}function h(a){if(a>=E)a=E;else{a--;for(var b=1;32>b;b<<=1)a|=a>>b;a++}return a}function i(a,b){return 0===b.length&&b.ended?0:b.objectMode?0===a?0:1:isNaN(a)||B.isNull(a)?b.flowing&&b.buffer.length?b.buffer[0].length:b.length:0>=a?0:(a>b.highWaterMark&&(b.highWaterMark=h(a)),a>b.length?b.ended?b.length:(b.needReadable=!0,0):a)}function j(a,b){var c=null;return B.isBuffer(b)||B.isString(b)||B.isNullOrUndefined(b)||a.objectMode||(c=new TypeError("Invalid non-string/buffer chunk")),c}function k(a,b){if(b.decoder&&!b.ended){var c=b.decoder.end();c&&c.length&&(b.buffer.push(c),b.length+=b.objectMode?1:c.length)}b.ended=!0,l(a)}function l(a){var b=a._readableState;b.needReadable=!1,b.emittedReadable||(D("emitReadable",b.flowing),b.emittedReadable=!0,b.sync?c.nextTick(function(){m(a)}):m(a))}function m(a){D("emit readable"),a.emit("readable"),s(a)}function n(a,b){b.readingMore||(b.readingMore=!0,c.nextTick(function(){o(a,b)}))}function o(a,b){for(var c=b.length;!b.reading&&!b.flowing&&!b.ended&&b.length<b.highWaterMark&&(D("maybeReadMore read 0"),a.read(0),c!==b.length);)c=b.length;b.readingMore=!1}function p(a){return function(){var b=a._readableState;D("pipeOnDrain",b.awaitDrain),b.awaitDrain&&b.awaitDrain--,0===b.awaitDrain&&z.listenerCount(a,"data")&&(b.flowing=!0,s(a))}}function q(a,b){b.resumeScheduled||(b.resumeScheduled=!0,c.nextTick(function(){r(a,b)}))}function r(a,b){b.resumeScheduled=!1,a.emit("resume"),s(a),b.flowing&&!b.reading&&a.read(0)}function s(a){var b=a._readableState;if(D("flow",b.flowing),b.flowing)do var c=a.read();while(null!==c&&b.flowing)}function t(a,b){var c,d=b.buffer,e=b.length,f=!!b.decoder,g=!!b.objectMode;if(0===d.length)return null;if(0===e)c=null;else if(g)c=d.shift();else if(!a||a>=e)c=f?d.join(""):y.concat(d,e),d.length=0;else if(a<d[0].length){var h=d[0];c=h.slice(0,a),d[0]=h.slice(a)}else if(a===d[0].length)c=d.shift();else{c=f?"":new y(a);for(var i=0,j=0,k=d.length;k>j&&a>i;j++){var h=d[0],l=Math.min(a-i,h.length);f?c+=h.slice(0,l):h.copy(c,i,0,l),l<h.length?d[0]=h.slice(l):d.shift(),i+=l}}return c}function u(a){var b=a._readableState;if(b.length>0)throw new Error("endReadable called on non-empty stream");b.endEmitted||(b.ended=!0,c.nextTick(function(){b.endEmitted||0!==b.length||(b.endEmitted=!0,a.readable=!1,a.emit("end"))}))}function v(a,b){for(var c=0,d=a.length;d>c;c++)b(a[c],c)}function w(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1}b.exports=e;var x=a("isarray"),y=a("buffer").Buffer;e.ReadableState=d;var z=a("events").EventEmitter;z.listenerCount||(z.listenerCount=function(a,b){return a.listeners(b).length});var A=a("stream"),B=a("core-util-is");B.inherits=a("inherits");var C,D=a("util");D=D&&D.debuglog?D.debuglog("stream"):function(){},B.inherits(e,A),e.prototype.push=function(a,b){var c=this._readableState;return B.isString(a)&&!c.objectMode&&(b=b||c.defaultEncoding,b!==c.encoding&&(a=new y(a,b),b="")),f(this,c,a,b,!1)},e.prototype.unshift=function(a){var b=this._readableState;return f(this,b,a,"",!0)},e.prototype.setEncoding=function(b){return C||(C=a("string_decoder/").StringDecoder),this._readableState.decoder=new C(b),this._readableState.encoding=b,this};var E=8388608;e.prototype.read=function(a){D("read",a);var b=this._readableState,c=a;if((!B.isNumber(a)||a>0)&&(b.emittedReadable=!1),0===a&&b.needReadable&&(b.length>=b.highWaterMark||b.ended))return D("read: emitReadable",b.length,b.ended),0===b.length&&b.ended?u(this):l(this),
null;if(a=i(a,b),0===a&&b.ended)return 0===b.length&&u(this),null;var d=b.needReadable;D("need readable",d),(0===b.length||b.length-a<b.highWaterMark)&&(d=!0,D("length less than watermark",d)),(b.ended||b.reading)&&(d=!1,D("reading or ended",d)),d&&(D("do read"),b.reading=!0,b.sync=!0,0===b.length&&(b.needReadable=!0),this._read(b.highWaterMark),b.sync=!1),d&&!b.reading&&(a=i(c,b));var e;return e=a>0?t(a,b):null,B.isNull(e)&&(b.needReadable=!0,a=0),b.length-=a,0!==b.length||b.ended||(b.needReadable=!0),c!==a&&b.ended&&0===b.length&&u(this),B.isNull(e)||this.emit("data",e),e},e.prototype._read=function(a){this.emit("error",new Error("not implemented"))},e.prototype.pipe=function(a,b){function d(a){D("onunpipe"),a===l&&f()}function e(){D("onend"),a.end()}function f(){D("cleanup"),a.removeListener("close",i),a.removeListener("finish",j),a.removeListener("drain",q),a.removeListener("error",h),a.removeListener("unpipe",d),l.removeListener("end",e),l.removeListener("end",f),l.removeListener("data",g),!m.awaitDrain||a._writableState&&!a._writableState.needDrain||q()}function g(b){D("ondata");var c=a.write(b);!1===c&&(D("false write response, pause",l._readableState.awaitDrain),l._readableState.awaitDrain++,l.pause())}function h(b){D("onerror",b),k(),a.removeListener("error",h),0===z.listenerCount(a,"error")&&a.emit("error",b)}function i(){a.removeListener("finish",j),k()}function j(){D("onfinish"),a.removeListener("close",i),k()}function k(){D("unpipe"),l.unpipe(a)}var l=this,m=this._readableState;switch(m.pipesCount){case 0:m.pipes=a;break;case 1:m.pipes=[m.pipes,a];break;default:m.pipes.push(a)}m.pipesCount+=1,D("pipe count=%d opts=%j",m.pipesCount,b);var n=(!b||b.end!==!1)&&a!==c.stdout&&a!==c.stderr,o=n?e:f;m.endEmitted?c.nextTick(o):l.once("end",o),a.on("unpipe",d);var q=p(l);return a.on("drain",q),l.on("data",g),a._events&&a._events.error?x(a._events.error)?a._events.error.unshift(h):a._events.error=[h,a._events.error]:a.on("error",h),a.once("close",i),a.once("finish",j),a.emit("pipe",l),m.flowing||(D("pipe resume"),l.resume()),a},e.prototype.unpipe=function(a){var b=this._readableState;if(0===b.pipesCount)return this;if(1===b.pipesCount)return a&&a!==b.pipes?this:(a||(a=b.pipes),b.pipes=null,b.pipesCount=0,b.flowing=!1,a&&a.emit("unpipe",this),this);if(!a){var c=b.pipes,d=b.pipesCount;b.pipes=null,b.pipesCount=0,b.flowing=!1;for(var e=0;d>e;e++)c[e].emit("unpipe",this);return this}var e=w(b.pipes,a);return-1===e?this:(b.pipes.splice(e,1),b.pipesCount-=1,1===b.pipesCount&&(b.pipes=b.pipes[0]),a.emit("unpipe",this),this)},e.prototype.on=function(a,b){var d=A.prototype.on.call(this,a,b);if("data"===a&&!1!==this._readableState.flowing&&this.resume(),"readable"===a&&this.readable){var e=this._readableState;if(!e.readableListening)if(e.readableListening=!0,e.emittedReadable=!1,e.needReadable=!0,e.reading)e.length&&l(this,e);else{var f=this;c.nextTick(function(){D("readable nexttick read 0"),f.read(0)})}}return d},e.prototype.addListener=e.prototype.on,e.prototype.resume=function(){var a=this._readableState;return a.flowing||(D("resume"),a.flowing=!0,a.reading||(D("resume read 0"),this.read(0)),q(this,a)),this},e.prototype.pause=function(){return D("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(D("pause"),this._readableState.flowing=!1,this.emit("pause")),this},e.prototype.wrap=function(a){var b=this._readableState,c=!1,d=this;a.on("end",function(){if(D("wrapped end"),b.decoder&&!b.ended){var a=b.decoder.end();a&&a.length&&d.push(a)}d.push(null)}),a.on("data",function(e){if(D("wrapped data"),b.decoder&&(e=b.decoder.write(e)),e&&(b.objectMode||e.length)){var f=d.push(e);f||(c=!0,a.pause())}});for(var e in a)B.isFunction(a[e])&&B.isUndefined(this[e])&&(this[e]=function(b){return function(){return a[b].apply(a,arguments)}}(e));var f=["error","close","destroy","pause","resume"];return v(f,function(b){a.on(b,d.emit.bind(d,b))}),d._read=function(b){D("wrapped _read",b),c&&(c=!1,a.resume())},d},e._fromList=t}).call(this,a("_process"))},{"./_stream_duplex":24,_process:22,buffer:14,"core-util-is":29,events:18,inherits:19,isarray:21,stream:34,"string_decoder/":35,util:13}],27:[function(a,b,c){function d(a,b){this.afterTransform=function(a,c){return e(b,a,c)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function e(a,b,c){var d=a._transformState;d.transforming=!1;var e=d.writecb;if(!e)return a.emit("error",new Error("no writecb in Transform class"));d.writechunk=null,d.writecb=null,i.isNullOrUndefined(c)||a.push(c),e&&e(b);var f=a._readableState;f.reading=!1,(f.needReadable||f.length<f.highWaterMark)&&a._read(f.highWaterMark)}function f(a){if(!(this instanceof f))return new f(a);h.call(this,a),this._transformState=new d(a,this);var b=this;this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("prefinish",function(){i.isFunction(this._flush)?this._flush(function(a){g(b,a)}):g(b)})}function g(a,b){if(b)return a.emit("error",b);var c=a._writableState,d=a._transformState;if(c.length)throw new Error("calling transform done when ws.length != 0");if(d.transforming)throw new Error("calling transform done when still transforming");return a.push(null)}b.exports=f;var h=a("./_stream_duplex"),i=a("core-util-is");i.inherits=a("inherits"),i.inherits(f,h),f.prototype.push=function(a,b){return this._transformState.needTransform=!1,h.prototype.push.call(this,a,b)},f.prototype._transform=function(a,b,c){throw new Error("not implemented")},f.prototype._write=function(a,b,c){var d=this._transformState;if(d.writecb=c,d.writechunk=a,d.writeencoding=b,!d.transforming){var e=this._readableState;(d.needTransform||e.needReadable||e.length<e.highWaterMark)&&this._read(e.highWaterMark)}},f.prototype._read=function(a){var b=this._transformState;i.isNull(b.writechunk)||!b.writecb||b.transforming?b.needTransform=!0:(b.transforming=!0,this._transform(b.writechunk,b.writeencoding,b.afterTransform))}},{"./_stream_duplex":24,"core-util-is":29,inherits:19}],28:[function(a,b,c){(function(c){function d(a,b,c){this.chunk=a,this.encoding=b,this.callback=c}function e(b,c){var d=a("./_stream_duplex");b=b||{};var e=b.highWaterMark,f=b.objectMode?16:16384;this.highWaterMark=e||0===e?e:f,this.objectMode=!!b.objectMode,c instanceof d&&(this.objectMode=this.objectMode||!!b.writableObjectMode),this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var g=b.decodeStrings===!1;this.decodeStrings=!g,this.defaultEncoding=b.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(a){n(c,a)},this.writecb=null,this.writelen=0,this.buffer=[],this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1}function f(b){var c=a("./_stream_duplex");return this instanceof f||this instanceof c?(this._writableState=new e(b,this),this.writable=!0,void x.call(this)):new f(b)}function g(a,b,d){var e=new Error("write after end");a.emit("error",e),c.nextTick(function(){d(e)})}function h(a,b,d,e){var f=!0;if(!(w.isBuffer(d)||w.isString(d)||w.isNullOrUndefined(d)||b.objectMode)){var g=new TypeError("Invalid non-string/buffer chunk");a.emit("error",g),c.nextTick(function(){e(g)}),f=!1}return f}function i(a,b,c){return!a.objectMode&&a.decodeStrings!==!1&&w.isString(b)&&(b=new v(b,c)),b}function j(a,b,c,e,f){c=i(b,c,e),w.isBuffer(c)&&(e="buffer");var g=b.objectMode?1:c.length;b.length+=g;var h=b.length<b.highWaterMark;return h||(b.needDrain=!0),b.writing||b.corked?b.buffer.push(new d(c,e,f)):k(a,b,!1,g,c,e,f),h}function k(a,b,c,d,e,f,g){b.writelen=d,b.writecb=g,b.writing=!0,b.sync=!0,c?a._writev(e,b.onwrite):a._write(e,f,b.onwrite),b.sync=!1}function l(a,b,d,e,f){d?c.nextTick(function(){b.pendingcb--,f(e)}):(b.pendingcb--,f(e)),a._writableState.errorEmitted=!0,a.emit("error",e)}function m(a){a.writing=!1,a.writecb=null,a.length-=a.writelen,a.writelen=0}function n(a,b){var d=a._writableState,e=d.sync,f=d.writecb;if(m(d),b)l(a,d,e,b,f);else{var g=r(a,d);g||d.corked||d.bufferProcessing||!d.buffer.length||q(a,d),e?c.nextTick(function(){o(a,d,g,f)}):o(a,d,g,f)}}function o(a,b,c,d){c||p(a,b),b.pendingcb--,d(),t(a,b)}function p(a,b){0===b.length&&b.needDrain&&(b.needDrain=!1,a.emit("drain"))}function q(a,b){if(b.bufferProcessing=!0,a._writev&&b.buffer.length>1){for(var c=[],d=0;d<b.buffer.length;d++)c.push(b.buffer[d].callback);b.pendingcb++,k(a,b,!0,b.length,b.buffer,"",function(a){for(var d=0;d<c.length;d++)b.pendingcb--,c[d](a)}),b.buffer=[]}else{for(var d=0;d<b.buffer.length;d++){var e=b.buffer[d],f=e.chunk,g=e.encoding,h=e.callback,i=b.objectMode?1:f.length;if(k(a,b,!1,i,f,g,h),b.writing){d++;break}}d<b.buffer.length?b.buffer=b.buffer.slice(d):b.buffer.length=0}b.bufferProcessing=!1}function r(a,b){return b.ending&&0===b.length&&!b.finished&&!b.writing}function s(a,b){b.prefinished||(b.prefinished=!0,a.emit("prefinish"))}function t(a,b){var c=r(a,b);return c&&(0===b.pendingcb?(s(a,b),b.finished=!0,a.emit("finish")):s(a,b)),c}function u(a,b,d){b.ending=!0,t(a,b),d&&(b.finished?c.nextTick(d):a.once("finish",d)),b.ended=!0}b.exports=f;var v=a("buffer").Buffer;f.WritableState=e;var w=a("core-util-is");w.inherits=a("inherits");var x=a("stream");w.inherits(f,x),f.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},f.prototype.write=function(a,b,c){var d=this._writableState,e=!1;return w.isFunction(b)&&(c=b,b=null),w.isBuffer(a)?b="buffer":b||(b=d.defaultEncoding),w.isFunction(c)||(c=function(){}),d.ended?g(this,d,c):h(this,d,a,c)&&(d.pendingcb++,e=j(this,d,a,b,c)),e},f.prototype.cork=function(){var a=this._writableState;a.corked++},f.prototype.uncork=function(){var a=this._writableState;a.corked&&(a.corked--,a.writing||a.corked||a.finished||a.bufferProcessing||!a.buffer.length||q(this,a))},f.prototype._write=function(a,b,c){c(new Error("not implemented"))},f.prototype._writev=null,f.prototype.end=function(a,b,c){var d=this._writableState;w.isFunction(a)?(c=a,a=null,b=null):w.isFunction(b)&&(c=b,b=null),w.isNullOrUndefined(a)||this.write(a,b),d.corked&&(d.corked=1,this.uncork()),d.ending||d.finished||u(this,d,c)}}).call(this,a("_process"))},{"./_stream_duplex":24,_process:22,buffer:14,"core-util-is":29,inherits:19,stream:34}],29:[function(a,b,c){(function(a){function b(a){return Array.isArray(a)}function d(a){return"boolean"==typeof a}function e(a){return null===a}function f(a){return null==a}function g(a){return"number"==typeof a}function h(a){return"string"==typeof a}function i(a){return"symbol"==typeof a}function j(a){return void 0===a}function k(a){return l(a)&&"[object RegExp]"===r(a)}function l(a){return"object"==typeof a&&null!==a}function m(a){return l(a)&&"[object Date]"===r(a)}function n(a){return l(a)&&("[object Error]"===r(a)||a instanceof Error)}function o(a){return"function"==typeof a}function p(a){return null===a||"boolean"==typeof a||"number"==typeof a||"string"==typeof a||"symbol"==typeof a||"undefined"==typeof a}function q(b){return a.isBuffer(b)}function r(a){return Object.prototype.toString.call(a)}c.isArray=b,c.isBoolean=d,c.isNull=e,c.isNullOrUndefined=f,c.isNumber=g,c.isString=h,c.isSymbol=i,c.isUndefined=j,c.isRegExp=k,c.isObject=l,c.isDate=m,c.isError=n,c.isFunction=o,c.isPrimitive=p,c.isBuffer=q}).call(this,{isBuffer:a("../../../../insert-module-globals/node_modules/is-buffer/index.js")})},{"../../../../insert-module-globals/node_modules/is-buffer/index.js":20}],30:[function(a,b,c){b.exports=a("./lib/_stream_passthrough.js")},{"./lib/_stream_passthrough.js":25}],31:[function(a,b,c){c=b.exports=a("./lib/_stream_readable.js"),c.Stream=a("stream"),c.Readable=c,c.Writable=a("./lib/_stream_writable.js"),c.Duplex=a("./lib/_stream_duplex.js"),c.Transform=a("./lib/_stream_transform.js"),c.PassThrough=a("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":24,"./lib/_stream_passthrough.js":25,"./lib/_stream_readable.js":26,"./lib/_stream_transform.js":27,"./lib/_stream_writable.js":28,stream:34}],32:[function(a,b,c){b.exports=a("./lib/_stream_transform.js")},{"./lib/_stream_transform.js":27}],33:[function(a,b,c){b.exports=a("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":28}],34:[function(a,b,c){function d(){e.call(this)}b.exports=d;var e=a("events").EventEmitter,f=a("inherits");f(d,e),d.Readable=a("readable-stream/readable.js"),d.Writable=a("readable-stream/writable.js"),d.Duplex=a("readable-stream/duplex.js"),d.Transform=a("readable-stream/transform.js"),d.PassThrough=a("readable-stream/passthrough.js"),d.Stream=d,d.prototype.pipe=function(a,b){function c(b){a.writable&&!1===a.write(b)&&j.pause&&j.pause()}function d(){j.readable&&j.resume&&j.resume()}function f(){k||(k=!0,a.end())}function g(){k||(k=!0,"function"==typeof a.destroy&&a.destroy())}function h(a){if(i(),0===e.listenerCount(this,"error"))throw a}function i(){j.removeListener("data",c),a.removeListener("drain",d),j.removeListener("end",f),j.removeListener("close",g),j.removeListener("error",h),a.removeListener("error",h),j.removeListener("end",i),j.removeListener("close",i),a.removeListener("close",i)}var j=this;j.on("data",c),a.on("drain",d),a._isStdio||b&&b.end===!1||(j.on("end",f),j.on("close",g));var k=!1;return j.on("error",h),a.on("error",h),j.on("end",i),j.on("close",i),a.on("close",i),a.emit("pipe",j),a}},{events:18,inherits:19,"readable-stream/duplex.js":23,"readable-stream/passthrough.js":30,"readable-stream/readable.js":31,"readable-stream/transform.js":32,"readable-stream/writable.js":33}],35:[function(a,b,c){function d(a){if(a&&!i(a))throw new Error("Unknown encoding: "+a)}function e(a){return a.toString(this.encoding)}function f(a){this.charReceived=a.length%2,this.charLength=this.charReceived?2:0}function g(a){this.charReceived=a.length%3,this.charLength=this.charReceived?3:0}var h=a("buffer").Buffer,i=h.isEncoding||function(a){switch(a&&a.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},j=c.StringDecoder=function(a){switch(this.encoding=(a||"utf8").toLowerCase().replace(/[-_]/,""),d(a),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=f;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=g;break;default:return void(this.write=e)}this.charBuffer=new h(6),this.charReceived=0,this.charLength=0};j.prototype.write=function(a){for(var b="";this.charLength;){var c=a.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:a.length;if(a.copy(this.charBuffer,this.charReceived,0,c),this.charReceived+=c,this.charReceived<this.charLength)return"";a=a.slice(c,a.length),b=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var d=b.charCodeAt(b.length-1);if(!(d>=55296&&56319>=d)){if(this.charReceived=this.charLength=0,0===a.length)return b;break}this.charLength+=this.surrogateSize,b=""}this.detectIncompleteChar(a);var e=a.length;this.charLength&&(a.copy(this.charBuffer,0,a.length-this.charReceived,e),e-=this.charReceived),b+=a.toString(this.encoding,0,e);var e=b.length-1,d=b.charCodeAt(e);if(d>=55296&&56319>=d){var f=this.surrogateSize;return this.charLength+=f,this.charReceived+=f,this.charBuffer.copy(this.charBuffer,f,0,f),a.copy(this.charBuffer,0,0,f),b.substring(0,e)}return b},j.prototype.detectIncompleteChar=function(a){for(var b=a.length>=3?3:a.length;b>0;b--){var c=a[a.length-b];if(1==b&&c>>5==6){this.charLength=2;break}if(2>=b&&c>>4==14){this.charLength=3;break}if(3>=b&&c>>3==30){this.charLength=4;break}}this.charReceived=b},j.prototype.end=function(a){var b="";if(a&&a.length&&(b=this.write(a)),this.charReceived){var c=this.charReceived,d=this.charBuffer,e=this.encoding;b+=d.slice(0,c).toString(e)}return b}},{buffer:14}],36:[function(a,b,c){b.exports=function(a){return a&&"object"==typeof a&&"function"==typeof a.copy&&"function"==typeof a.fill&&"function"==typeof a.readUInt8}},{}],37:[function(a,b,c){(function(b,d){function e(a,b){var d={seen:[],stylize:g};return arguments.length>=3&&(d.depth=arguments[2]),arguments.length>=4&&(d.colors=arguments[3]),p(b)?d.showHidden=b:b&&c._extend(d,b),v(d.showHidden)&&(d.showHidden=!1),v(d.depth)&&(d.depth=2),v(d.colors)&&(d.colors=!1),v(d.customInspect)&&(d.customInspect=!0),d.colors&&(d.stylize=f),i(d,a,d.depth)}function f(a,b){var c=e.styles[b];return c?"["+e.colors[c][0]+"m"+a+"["+e.colors[c][1]+"m":a}function g(a,b){return a}function h(a){var b={};return a.forEach(function(a,c){b[a]=!0}),b}function i(a,b,d){if(a.customInspect&&b&&A(b.inspect)&&b.inspect!==c.inspect&&(!b.constructor||b.constructor.prototype!==b)){var e=b.inspect(d,a);return t(e)||(e=i(a,e,d)),e}var f=j(a,b);if(f)return f;var g=Object.keys(b),p=h(g);if(a.showHidden&&(g=Object.getOwnPropertyNames(b)),z(b)&&(g.indexOf("message")>=0||g.indexOf("description")>=0))return k(b);if(0===g.length){if(A(b)){var q=b.name?": "+b.name:"";return a.stylize("[Function"+q+"]","special")}if(w(b))return a.stylize(RegExp.prototype.toString.call(b),"regexp");if(y(b))return a.stylize(Date.prototype.toString.call(b),"date");if(z(b))return k(b)}var r="",s=!1,u=["{","}"];if(o(b)&&(s=!0,u=["[","]"]),A(b)){var v=b.name?": "+b.name:"";r=" [Function"+v+"]"}if(w(b)&&(r=" "+RegExp.prototype.toString.call(b)),y(b)&&(r=" "+Date.prototype.toUTCString.call(b)),z(b)&&(r=" "+k(b)),0===g.length&&(!s||0==b.length))return u[0]+r+u[1];if(0>d)return w(b)?a.stylize(RegExp.prototype.toString.call(b),"regexp"):a.stylize("[Object]","special");a.seen.push(b);var x;return x=s?l(a,b,d,p,g):g.map(function(c){return m(a,b,d,p,c,s)}),a.seen.pop(),n(x,r,u)}function j(a,b){if(v(b))return a.stylize("undefined","undefined");if(t(b)){var c="'"+JSON.stringify(b).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return a.stylize(c,"string")}return s(b)?a.stylize(""+b,"number"):p(b)?a.stylize(""+b,"boolean"):q(b)?a.stylize("null","null"):void 0}function k(a){return"["+Error.prototype.toString.call(a)+"]"}function l(a,b,c,d,e){for(var f=[],g=0,h=b.length;h>g;++g)F(b,String(g))?f.push(m(a,b,c,d,String(g),!0)):f.push("");return e.forEach(function(e){e.match(/^\d+$/)||f.push(m(a,b,c,d,e,!0))}),f}function m(a,b,c,d,e,f){var g,h,j;if(j=Object.getOwnPropertyDescriptor(b,e)||{value:b[e]},j.get?h=j.set?a.stylize("[Getter/Setter]","special"):a.stylize("[Getter]","special"):j.set&&(h=a.stylize("[Setter]","special")),F(d,e)||(g="["+e+"]"),h||(a.seen.indexOf(j.value)<0?(h=q(c)?i(a,j.value,null):i(a,j.value,c-1),h.indexOf("\n")>-1&&(h=f?h.split("\n").map(function(a){return"  "+a}).join("\n").substr(2):"\n"+h.split("\n").map(function(a){return"   "+a}).join("\n"))):h=a.stylize("[Circular]","special")),v(g)){if(f&&e.match(/^\d+$/))return h;g=JSON.stringify(""+e),g.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(g=g.substr(1,g.length-2),g=a.stylize(g,"name")):(g=g.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),g=a.stylize(g,"string"))}return g+": "+h}function n(a,b,c){var d=0,e=a.reduce(function(a,b){return d++,b.indexOf("\n")>=0&&d++,a+b.replace(/\u001b\[\d\d?m/g,"").length+1},0);return e>60?c[0]+(""===b?"":b+"\n ")+" "+a.join(",\n  ")+" "+c[1]:c[0]+b+" "+a.join(", ")+" "+c[1]}function o(a){return Array.isArray(a)}function p(a){return"boolean"==typeof a}function q(a){return null===a}function r(a){return null==a}function s(a){return"number"==typeof a}function t(a){return"string"==typeof a}function u(a){return"symbol"==typeof a}function v(a){return void 0===a}function w(a){return x(a)&&"[object RegExp]"===C(a)}function x(a){return"object"==typeof a&&null!==a}function y(a){return x(a)&&"[object Date]"===C(a)}function z(a){return x(a)&&("[object Error]"===C(a)||a instanceof Error)}function A(a){return"function"==typeof a}function B(a){return null===a||"boolean"==typeof a||"number"==typeof a||"string"==typeof a||"symbol"==typeof a||"undefined"==typeof a}function C(a){return Object.prototype.toString.call(a)}function D(a){return 10>a?"0"+a.toString(10):a.toString(10)}function E(){var a=new Date,b=[D(a.getHours()),D(a.getMinutes()),D(a.getSeconds())].join(":");return[a.getDate(),J[a.getMonth()],b].join(" ")}function F(a,b){return Object.prototype.hasOwnProperty.call(a,b)}var G=/%[sdj%]/g;c.format=function(a){if(!t(a)){for(var b=[],c=0;c<arguments.length;c++)b.push(e(arguments[c]));return b.join(" ")}for(var c=1,d=arguments,f=d.length,g=String(a).replace(G,function(a){if("%%"===a)return"%";if(c>=f)return a;switch(a){case"%s":return String(d[c++]);case"%d":return Number(d[c++]);case"%j":try{return JSON.stringify(d[c++])}catch(b){return"[Circular]"}default:return a}}),h=d[c];f>c;h=d[++c])g+=q(h)||!x(h)?" "+h:" "+e(h);return g},c.deprecate=function(a,e){function f(){if(!g){if(b.throwDeprecation)throw new Error(e);b.traceDeprecation?console.trace(e):console.error(e),g=!0}return a.apply(this,arguments)}if(v(d.process))return function(){return c.deprecate(a,e).apply(this,arguments)};if(b.noDeprecation===!0)return a;var g=!1;return f};var H,I={};c.debuglog=function(a){if(v(H)&&(H=b.env.NODE_DEBUG||""),a=a.toUpperCase(),!I[a])if(new RegExp("\\b"+a+"\\b","i").test(H)){var d=b.pid;I[a]=function(){var b=c.format.apply(c,arguments);console.error("%s %d: %s",a,d,b)}}else I[a]=function(){};return I[a]},c.inspect=e,e.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},e.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},c.isArray=o,c.isBoolean=p,c.isNull=q,c.isNullOrUndefined=r,c.isNumber=s,c.isString=t,c.isSymbol=u,c.isUndefined=v,c.isRegExp=w,c.isObject=x,c.isDate=y,c.isError=z,c.isFunction=A,c.isPrimitive=B,c.isBuffer=a("./support/isBuffer");var J=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];c.log=function(){console.log("%s - %s",E(),c.format.apply(c,arguments))},c.inherits=a("inherits"),c._extend=function(a,b){if(!b||!x(b))return a;for(var c=Object.keys(b),d=c.length;d--;)a[c[d]]=b[c[d]];return a}}).call(this,a("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":36,_process:22,inherits:19}],38:[function(a,b,c){var d=a("util"),e=function(a,b,c,d){for(var e,f,g=[],h=0;e=b.exec(a);){if(f=a.slice(h,b.lastIndex-e[0].length),f.length&&g.push(f),c){var i=c.apply(d,e.slice(1).concat(g.length));"undefined"!=typeof i&&("%"===i.specifier?g.push("%"):g.push(i))}h=b.lastIndex}return f=a.slice(h),f.length&&g.push(f),g},f=function(a){this._mapped=!1,this._format=a,this._tokens=e(a,this._re,this._parseDelim,this)};f.prototype._re=/\%(?:\(([\w_]+)\)|([1-9]\d*)\$)?([0 +\-\#]*)(\*|\d+)?(\.)?(\*|\d+)?[hlL]?([\%bscdeEfFgGioOuxX])/g,f.prototype._parseDelim=function(a,b,c,d,e,f,g){return a&&(this._mapped=!0),{mapping:a,intmapping:b,flags:c,_minWidth:d,period:e,_precision:f,specifier:g}},f.prototype._specifiers={b:{base:2,isInt:!0},o:{base:8,isInt:!0},x:{base:16,isInt:!0},X:{extend:["x"],toUpper:!0},d:{base:10,isInt:!0},i:{extend:["d"]},u:{extend:["d"],isUnsigned:!0},c:{setArg:function(a){if(!isNaN(a.arg)){var b=parseInt(a.arg);if(0>b||b>127)throw new Error("invalid character code passed to %c in printf");a.arg=isNaN(b)?""+b:String.fromCharCode(b)}}},s:{setMaxWidth:function(a){a.maxWidth="."==a.period?a.precision:-1}},e:{isDouble:!0,doubleNotation:"e"},E:{extend:["e"],toUpper:!0},f:{isDouble:!0,doubleNotation:"f"},F:{extend:["f"]},g:{isDouble:!0,doubleNotation:"g"},G:{extend:["g"],toUpper:!0},O:{isObject:!0}},f.prototype.format=function(a){if(this._mapped&&"object"!=typeof a)throw new Error("format requires a mapping");for(var b,c="",d=0,e=0;e<this._tokens.length;e++)if(b=this._tokens[e],"string"==typeof b)c+=b;else{if(this._mapped){if("undefined"==typeof a[b.mapping])throw new Error("missing key "+b.mapping);b.arg=a[b.mapping]}else{if(b.intmapping&&(d=parseInt(b.intmapping)-1),d>=arguments.length)throw new Error("got "+arguments.length+" printf arguments, insufficient for '"+this._format+"'");b.arg=arguments[d++]}if(!b.compiled){b.compiled=!0,b.sign="",b.zeroPad=!1,b.rightJustify=!1,b.alternative=!1;for(var f={},g=b.flags.length;g--;){var h=b.flags.charAt(g);switch(f[h]=!0,h){case" ":b.sign=" ";break;case"+":b.sign="+";break;case"0":b.zeroPad=f["-"]?!1:!0;break;case"-":b.rightJustify=!0,b.zeroPad=!1;break;case"#":b.alternative=!0;break;default:throw Error("bad formatting flag '"+b.flags.charAt(g)+"'")}}b.minWidth=b._minWidth?parseInt(b._minWidth):0,b.maxWidth=-1,b.toUpper=!1,b.isUnsigned=!1,b.isInt=!1,b.isDouble=!1,b.isObject=!1,b.precision=1,"."==b.period&&(b._precision?b.precision=parseInt(b._precision):b.precision=0);var i=this._specifiers[b.specifier];if("undefined"==typeof i)throw new Error("unexpected specifier '"+b.specifier+"'");if(i.extend){var j=this._specifiers[i.extend];for(var k in j)i[k]=j[k];delete i.extend}for(var l in i)b[l]=i[l]}if("function"==typeof b.setArg&&b.setArg(b),"function"==typeof b.setMaxWidth&&b.setMaxWidth(b),"*"==b._minWidth){if(this._mapped)throw new Error("* width not supported in mapped formats");if(b.minWidth=parseInt(arguments[d++]),isNaN(b.minWidth))throw new Error("the argument for * width at position "+d+" is not a number in "+this._format);b.minWidth<0&&(b.rightJustify=!0,b.minWidth=-b.minWidth)}if("*"==b._precision&&"."==b.period){if(this._mapped)throw new Error("* precision not supported in mapped formats");if(b.precision=parseInt(arguments[d++]),isNaN(b.precision))throw Error("the argument for * precision at position "+d+" is not a number in "+this._format);b.precision<0&&(b.precision=1,b.period="")}b.isInt?("."==b.period&&(b.zeroPad=!1),this.formatInt(b)):b.isDouble?("."!=b.period&&(b.precision=6),this.formatDouble(b)):b.isObject&&this.formatObject(b),this.fitField(b),c+=""+b.arg}return c},f.prototype._zeros10="0000000000",f.prototype._spaces10="          ",f.prototype.formatInt=function(a){var b=parseInt(a.arg);if(!isFinite(b)){if("number"!=typeof a.arg)throw new Error("format argument '"+a.arg+"' not an integer; parseInt returned "+b);b=0}0>b&&(a.isUnsigned||10!=a.base)&&(b=4294967295+b+1),0>b?(a.arg=(-b).toString(a.base),this.zeroPad(a),a.arg="-"+a.arg):(a.arg=b.toString(a.base),b||a.precision?this.zeroPad(a):a.arg="",a.sign&&(a.arg=a.sign+a.arg)),16==a.base&&(a.alternative&&(a.arg="0x"+a.arg),a.arg=a.toUpper?a.arg.toUpperCase():a.arg.toLowerCase()),8==a.base&&a.alternative&&"0"!=a.arg.charAt(0)&&(a.arg="0"+a.arg)},f.prototype.formatDouble=function(a){var b=parseFloat(a.arg);if(!isFinite(b)){if("number"!=typeof a.arg)throw new Error("format argument '"+a.arg+"' not a float; parseFloat returned "+b);b=0}switch(a.doubleNotation){case"e":a.arg=b.toExponential(a.precision);break;case"f":a.arg=b.toFixed(a.precision);break;case"g":Math.abs(b)<1e-4?a.arg=b.toExponential(a.precision>0?a.precision-1:a.precision):a.arg=b.toPrecision(a.precision),a.alternative||(a.arg=a.arg.replace(/(\..*[^0])0*e/,"$1e"),a.arg=a.arg.replace(/\.0*e/,"e").replace(/\.0$/,""));break;default:throw new Error("unexpected double notation '"+a.doubleNotation+"'")}a.arg=a.arg.replace(/e\+(\d)$/,"e+0$1").replace(/e\-(\d)$/,"e-0$1"),a.alternative&&(a.arg=a.arg.replace(/^(\d+)$/,"$1."),a.arg=a.arg.replace(/^(\d+)e/,"$1.e")),b>=0&&a.sign&&(a.arg=a.sign+a.arg),a.arg=a.toUpper?a.arg.toUpperCase():a.arg.toLowerCase()},f.prototype.formatObject=function(a){var b="."===a.period?a.precision:null;a.arg=d.inspect(a.arg,!a.alternative,b)},f.prototype.zeroPad=function(a,b){b=2==arguments.length?b:a.precision;var c=!1;"string"!=typeof a.arg&&(a.arg=""+a.arg),"-"===a.arg.substr(0,1)&&(c=!0,a.arg=a.arg.substr(1));for(var d=b-10;a.arg.length<d;)a.arg=a.rightJustify?a.arg+this._zeros10:this._zeros10+a.arg;var e=b-a.arg.length;a.arg=a.rightJustify?a.arg+this._zeros10.substring(0,e):this._zeros10.substring(0,e)+a.arg,c&&(a.arg="-"+a.arg)},f.prototype.fitField=function(a){return a.maxWidth>=0&&a.arg.length>a.maxWidth?a.arg.substring(0,a.maxWidth):a.zeroPad?void this.zeroPad(a,a.minWidth):void this.spacePad(a)},f.prototype.spacePad=function(a,b){b=2==arguments.length?b:a.minWidth,"string"!=typeof a.arg&&(a.arg=""+a.arg);for(var c=b-10;a.arg.length<c;)a.arg=a.rightJustify?a.arg+this._spaces10:this._spaces10+a.arg;var d=b-a.arg.length;a.arg=a.rightJustify?a.arg+this._spaces10.substring(0,d):this._spaces10.substring(0,d)+a.arg},b.exports=function(){var b,c,d=Array.prototype.slice.call(arguments);d[0]instanceof a("stream").Stream&&(b=d.shift()),c=d.shift();var e=new f(c),g=e.format.apply(e,d);return b?void b.write(g):g},b.exports.Formatter=f},{stream:34,util:37}]},{},[4]),function(starlight){function jsToLua(obj){var t,mt;return mt=new T({__index:function(t,key){if(void 0===obj||null===obj)throw new starlight.runtime.LuaError("attempt to index a nil value");"number"==typeof key&&key--;var property=obj[key],i,children,child;if("function"==typeof property||property&&property.prototype&&"function"==typeof property.prototype.constructor){var f=function(){var a=convertArguments(arguments,luaToJS),b=property.apply(a.shift(),a);return"object"==typeof b?jsToLua(b):[b]};if(Object.getOwnPropertyNames)for(children=Object.getOwnPropertyNames(property),i=0;child=children[i];i++)"caller"!=child&&"callee"!=child&&"arguments"!=child&&(f[child]=property[child]);return f["new"]=function(){var args=convertArguments(arguments,luaToJS),argStr,obj,i,l;for(argStr=(l=args.length)?"args[0]":"",i=1;l>i;i++)argStr+=",args["+i+"]";return obj=eval("new property("+argStr+")"),jsToLua(obj)},f}return"object"==typeof property?jsToLua(property):property},__newindex:function(a,b,c){"number"==typeof b&&b++,obj[b]=luaToJS(c)}}),mt.source=obj,t=new T,t.metatable=mt,t}function luaToJS(a){var b;if(a instanceof Function)return function(){return jsToLua(a.apply(void 0,convertArguments(arguments,jsToLua)))};if(a instanceof T){if((b=a.metatable)&&b.source)return b.source;var c,d=getn(a)>0,e=d?[]:{},f=a.numValues,g=a.strValues,h=f.length;for(c=1;h>c;c++)e[c-1]=f[c]instanceof T?luaToJS(f[c]):f[c];for(c in g)g.hasOwnProperty(c)&&(e[c]=a[c]instanceof T?luaToJS(a[c]):a[c]);return e}return a}function convertArguments(a,b){var c,d,e=[];for(c=0,d=a.length;d>c;c++)e.push(b(a[c]));return e}var T=starlight.runtime.T,_G=starlight.runtime.globalScope,getn=_G.get("table").get("getn"),win=jsToLua(window);_G.set("window",win),win.set("extract",function(){var a,b;for(b in window)if("print"!==b&&"window"!==b&&null!==win[b]){try{a=_G.get("window").get(b)}catch(c){a=function(){throw new starlight.runtime.LuaError("error accessing property: "+c.message)}}_G.set(b,"function"==typeof a?a.bind(void 0,window):a)}})}(window.starlight),function b(a,c,d){function e(g,h){if(!c[g]){if(!a[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};a[g][0].call(k.exports,function(b){var c=a[g][1][b];return e(c?c:b)},k,k.exports,b,a,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;
var i=h.get;return void 0===i?void 0:i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return void 0;a=j,b=f,c=g,d=!0,h=j=void 0}},h=function(a){function b(a,c){d(this,b),g(Object.getPrototypeOf(b.prototype),"constructor",this).call(this),this.base=a,this.property=c}return e(b,a),f(b,[{key:"get",value:function(){return"Tget("+this.base+", "+this.property+")"}},{key:"set",value:function(a){return"Tset("+this.base+", "+this.property+", "+a+")"}},{key:"toString",value:function(){return this.get()}},{key:"valueOf",value:function(){return this.get()}}]),b}(String);c["default"]=h,b.exports=c["default"]},{}],2:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){var b=o++,c="let $"+b+" = $"+a+".extend(), $ = $"+b+";";return{scope:b,scopeDef:c}}function f(a,b){var c=h(a,b);return"Identifier"===a.type?"$get($, '"+c+"')":c}function g(a){return!!a.type.match(/CallExpression$/)}function h(a,b){var c=t[a.type];if(!c)throw console.info(a),new Error("No generator found for: "+a.type);return c.call(t,a,b)}function i(){var a="\"use strict\"; if (typeof global === 'undefined' && typeof window !== 'undefined') { window.global = window; }\n";return a+="let __star = global.starlight.runtime, $0 = __star.globalScope, $ = $0, __star_tmp;\n",a+="let __star_call = __star.call, __star_T = __star.T, __star_op_bool = __star.op.bool;",a+="let __star_op_unm = __star.op.unm, __star_op_not = __star.op.not, __star_op_len = __star.op.len, __star_op_concat = __star.op.concat, __star_op_add = __star.op.add, __star_op_sub = __star.op.sub, __star_op_mul = __star.op.mul, __star_op_div = __star.op.div, __star_op_mod = __star.op.mod, __star_op_eq = __star.op.eq, __star_op_neq = __star.op.neq, __star_op_lt = __star.op.lt, __star_op_gt = __star.op.gt, __star_op_lte = __star.op.lte, __star_op_gte = __star.op.gte, __star_op_pow = __star.op.pow;",a+="let __star_op_and = __star.op.and, __star_op_or = __star.op.or;\n",a+="let Tget, Tset, Tins, $get, $set, $setLocal, __star_shift;",a+="(()=>{",a+="let call = Function.prototype.call, bind = call.bind.bind(call), Tproto = __star_T.prototype, $proto = __star.globalScope.constructor.prototype;",a+="Tget = bind(Tproto.get), Tset = bind(Tproto.set), Tins = bind(Tproto.insert);",a+="$get = bind($proto.get), $set = bind($proto.set), $setLocal = bind($proto.setLocal);",a+="__star_shift = bind(Array.prototype.shift);",a+="})();"}function j(a){return h(a,0)}Object.defineProperty(c,"__esModule",{value:!0});var k=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[n.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(i){e=!0,f=i}finally{try{!d&&h["return"]&&h["return"]()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(n.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();c.getRuntimeInit=i,c.generateJS=j;var l=a("./MemExpr"),m=d(l),n=n||{iterator:function(){}},o=1,p=0,q=0,r={"-":"unm",not:"not","#":"len"},s={"..":"concat","+":"add","-":"sub","*":"mul","/":"div","%":"mod","==":"eq","~=":"neq","<":"lt",">":"gt","<=":"lte",">=":"gte","^":"pow"},t={AssignmentStatement:function(a,b){var c=!0,d=a.variables.map(function(a,c){var d=void 0;if(d=f(a,b),d instanceof m["default"])return d.set("__star_tmp["+c+"]");var e=[].concat(d.match(/^\$get\((.*)\)$/)),g=k(e,2),h=g[0],i=g[1];if(!h)throw new Error("Unhandled");return"$set("+i+", __star_tmp["+c+"])"}).join(";\n"),e=a.init.map(function(a,d){var e=f(a,b);return g(a)?(c=!1,"..."+e):e});return c?d.replace(/__star_tmp\[(\d+)\]/g,function(a,b){return e[b]}):"__star_tmp = ["+e.join(", ")+"];"+d},BinaryExpression:function(a,b){var c=f(a.left,b),d=f(a.right,b),e=s[a.operator];if(g(a.left)&&(c+="[0]"),g(a.right)&&(d+="[0]"),!e)throw console.info(a),new Error("Unhandled binary operator: "+a.operator);return"__star_op_"+e+"("+c+", "+d+")"},BooleanLiteral:function(a){return a.value?"true":"false"},BreakStatement:function(a){return"break"},CallStatement:function(a,b){return h(a.expression,b)},CallExpression:function(a,b){var c=f(a.base,b),d=a.arguments.map(function(a){var c=f(a,b),d=g(a)?"...":"";return""+d+c});return g(a.base)?d.unshift(c+"[0]"):(c instanceof m["default"]&&":"===a.base.indexer&&d.unshift(c.base),d.unshift(""+c)),"__star_call("+d+")"},Chunk:function(a,b){var c=a.body.map(function(a){return h(a,b)+";"});return c.join("\n")},DoStatement:function(a,b){var c=e(b),d=c.scope,f=c.scopeDef,g=this.Chunk(a,d);return"(()=>{\n"+f+"\n"+g+"\n})()"},ElseClause:function(a,b){var c=this.Chunk(a,b);return"{\n"+c+"\n}"},ElseifClause:function(a,b){return this.IfClause(a,b)},ForNumericStatement:function(a,b){var c=e(b),d=c.scope,g=c.scopeDef,i=h(a.variable,b),j=f(a.start,b),k=f(a.end,b),l=null===a.step?1:h(a.step,b),m=l>0?"<=":">=",n=this.Chunk(a,d),o=++q,p="$"+b+"._forLoop"+o+" = "+j,r="$"+b+"._forLoop"+o+" "+m+" "+k,s="$"+b+"._forLoop"+o+" += "+l,t="$"+d+".setLocal('"+i+"',$"+b+"._forLoop"+o+");";return"for ("+p+"; "+r+"; "+s+") {\n"+g+"\n"+t+"\n"+n+"\n}"},ForGenericStatement:function(a,b){console.assert(1===a.iterators.length,"Only one iterator is assumed. Need to implement more!");var c=e(b),d=c.scope,g=c.scopeDef,i=f(a.iterators[0],b),j=this.Chunk(a,d),k=a.variables.map(function(a,b){var c=h(a,d);return"$setLocal($, '"+c+"', __star_tmp["+b+"])"}).join(";\n"),l=g.split(", ");return l[0]+";\n[$"+d+"._iterator, $"+d+"._table, $"+d+"._next] = "+i+";\nwhile((__star_tmp = __star_call($"+d+"._iterator, $"+d+"._table, $"+d+"._next)),__star_tmp[0] !== undefined) {\nlet "+l[1]+"$"+d+"._next = __star_tmp[0]\n"+k+"\n"+j+"\n}"},FunctionDeclaration:function(a,b){var c=e(b),d=c.scope,f=c.scopeDef,g=!a.identifier,i=g?"":h(a.identifier,b),j=i instanceof m["default"],k=a.parameters.map(function(a,b){var c=h(a,d);return"...$.getVarargs()"===c?"$.setVarargs(args)":"$setLocal($, '"+c+"', __star_shift(args))"}),l=void 0;j?(l=i.property.replace(/'/g,""),":"===a.identifier.indexer&&k.unshift("$setLocal($, 'self', __star_shift(args))")):l=i;var n=k.join(";\n"),o=this.Chunk(a,d),q=g?"":"func$",r="(__star_tmp = function "+q+l+"(...args){"+f+"\n"+n+";\n"+o+" return [];}, __star_tmp.toString=()=>'function: 0x"+(++p).toString(16)+"', __star_tmp)";return g?r:j?i.set(r):"$set($, '"+i+"', "+r+")"},Identifier:function(a,b){return a.name},IfClause:function(a,b){var c=f(a.condition,b);g(a.condition)&&(c+="[0]");var d=this.Chunk(a,b);return"if (__star_op_bool("+c+")) {\n"+d+"\n}"},IfStatement:function(a,b){var c=a.clauses.map(function(a){return h(a,b)});return c.join(" else ")},IndexExpression:function(a,b){var c=f(a.base,b),d=f(a.index,b);return g(a.base)&&(c+="[0]"),g(a.index)&&(d+="[0]"),new m["default"](c,d)},LocalStatement:function(a,b){var c=!0,d=a.variables.map(function(a,c){var d=h(a,b);return"$setLocal($, '"+d+"', __star_tmp["+c+"])"}).join(";\n"),e=a.init.map(function(a,d){var e=f(a,b);return g(a)&&(c=!1,e="..."+e),e});return"__star_tmp = ["+e.join(", ")+"];"+d},LogicalExpression:function(a,b){var c=f(a.left,b),d=f(a.right,b),e=a.operator;if(g(a.left)&&(c+="[0]"),g(a.right)&&(d+="[0]"),"and"===e)return"(!__star.op.bool("+c+")?"+c+":"+d+")";if("or"===e)return"(__star.op.bool("+c+")?"+c+":"+d+")";throw console.info(a),new Error("Unhandled logical operator: "+a.operator)},MemberExpression:function(a,b){var c=f(a.base,b),d=h(a.identifier,b);return g(a.base)&&(c+="[0]"),new m["default"](c,"'"+d+"'")},NilLiteral:function(a){return"undefined"},NumericLiteral:function(a){return a.value.toString()},RepeatStatement:function(a,b){var c=e(b),d=c.scope,g=c.scopeDef,h=f(a.condition,b),i=this.Chunk(a,d);return"do{\n"+g+"\n"+i+"\n}while(!("+h+"))"},ReturnStatement:function(a,b){var c=a.arguments.map(function(a){var c=f(a,b);return g(a)?"..."+c:c}).join(", ");return"return ["+c+"];"},StringCallExpression:function(a,b){return a.arguments=a.argument,this.TableCallExpression(a,b)},StringLiteral:function(a){var b=a.raw.replace(/\\(\d+)/g,function(a,b){return"\\x0"+parseInt(b,8).toString(16)});return/^\[\[[^]*]$/m.test(b)?"`"+b.substr(2,b.length-4)+"`":b},TableCallExpression:function(a,b){var c=f(a.base,b),d=[h(a.arguments,b)];return g(a.base)?"__star_call("+c+"[0],"+d+")":(c instanceof m["default"]&&":"===a.base.indexer&&d.unshift(c.base),"__star_call("+c+","+d+")")},TableConstructorExpression:function(a,b){var c=a.fields.map(function(a){return h(a,b)}).join(";\n");return"new __star_T(t => {"+c+"})"},TableKeyString:function(a,b){var c=h(a.key,b),d=f(a.value,b);return"Tset(t, '"+c+"', "+d+")"},TableKey:function(a,b){var c=f(a.key,b),d=f(a.value,b);return"Tset(t, "+c+", "+d+")"},TableValue:function(a,b){var c=f(a.value,b),d=g(a.value)?"...":"";return"Tins(t, "+d+c+")"},UnaryExpression:function(a,b){var c=r[a.operator],d=f(a.argument,b);if(g(a.argument)&&(d+="[0]"),!c)throw console.info(a),new Error("Unhandled unary operator: "+a.operator);return"__star_op_"+c+"("+d+")"},VarargLiteral:function(a){return"...$.getVarargs()"},WhileStatement:function(a,b){var c=e(b),d=c.scope,g=c.scopeDef,h=f(a.condition,b),i=this.Chunk(a,d);return"while("+h+") {\n"+g+"\n"+i+"\n}"}}},{"./MemExpr":1}],3:[function(a,b,c){(function(b){"use strict";function c(a){return a&&a.__esModule?a:{"default":a}}function d(a){var c=i["default"].parse(a),d=(0,g.getRuntimeInit)()+(0,g.generateJS)(c),e=b.babel;return e&&(d="()=>{"+d+"}",d=e.transform(d).code,d=d.substr(14,d.length-15),d=d.replace("\n(function","\nreturn (function")+".apply(void 0, arguments);"),d}function e(a){return new Function("var global = this;"+d(a)).bind(b||window)}function f(){var a=j.map(function(a){return'script[type="'+a+'"]'}),b=document.querySelectorAll(a.join()),c=void 0,d=void 0,f=void 0,g=void 0,h="";for(d=0;c=b[d];d++)f=c.dataset.modname,g=c.textContent,h+=f?" rawset(package.preload, '"+f+"', function(...) "+g+" end) ":g;h&&e(h)()}var g=a("./code-generator"),h=a("luaparse"),i=c(h);void 0===typeof b&&(b=window);var j=["text/lua","text/x-lua","application/lua","application/x-lua"];b.document&&b.document.querySelector('script[src$="starlight.js"][data-run-script-tags]')&&b.document.addEventListener("DOMContentLoaded",f),b.starlight=b.starlight||{},b.starlight.parser={parse:e,parseToString:d,runScriptTags:f}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./code-generator":2,luaparse:4}],4:[function(a,b,c){(function(a){!function(d,e,f){"use strict";var g={"function":!0,object:!0},h=g[typeof c]&&c&&!c.nodeType&&c,i=g[typeof b]&&b&&!b.nodeType&&b,j=i&&i.exports===h&&h,k=g[typeof a]&&a;!k||k.global!==k&&k.window!==k||(d=k),"function"==typeof define&&"object"==typeof define.amd&&define.amd?(define(["exports"],f),h&&j&&f(i.exports)):f(h&&i?j?i.exports:h:d[e]={})}(this,"luaparse",function(a){"use strict";function b(a){if(Wa){var b=Xa.pop();b.complete(),va.locations&&(a.loc=b.loc),va.ranges&&(a.range=b.range)}return va.onCreateNode&&va.onCreateNode(a),a}function c(a,b,c){for(var d=0,e=a.length;e>d;d++)if(a[d][b]===c)return d;return-1}function d(a){var b=Ra.call(arguments,1);return a=a.replace(/%(\d)/g,function(a,c){return""+b[c-1]||""})}function e(){for(var a,b,c=Ra.call(arguments),d={},e=0,f=c.length;f>e;e++){a=c[e];for(b in a)a.hasOwnProperty(b)&&(d[b]=a[b])}return d}function f(a){var b,c,e=d.apply(null,Ra.call(arguments,1));throw"undefined"!=typeof a.line?(c=a.range[0]-a.lineStart,b=new SyntaxError(d("[%1:%2] %3",a.line,c,e)),b.line=a.line,b.index=a.range[0],b.column=c):(c=Ha-Oa+1,b=new SyntaxError(d("[%1:%2] %3",Na,c,e)),b.index=Ha,b.line=Na,b.column=c),b}function g(a,b){f(b,Pa.expectedToken,a,b.value)}function h(a,b){if("undefined"==typeof b&&(b=Ka.value),"undefined"!=typeof a.type){var c;switch(a.type){case za:c="string";break;case Aa:c="keyword";break;case Ba:c="identifier";break;case Ca:c="number";break;case Da:c="symbol";break;case Ea:c="boolean";break;case Fa:return f(a,Pa.unexpected,"symbol","nil",b)}return f(a,Pa.unexpected,c,a.value,b)}return f(a,Pa.unexpected,"symbol",a,b)}function i(){for(k();45===ua.charCodeAt(Ha)&&45===ua.charCodeAt(Ha+1);)u(),k();if(Ha>=wa)return{type:ya,value:"<eof>",line:Na,lineStart:Oa,range:[Ha,Ha]};var a=ua.charCodeAt(Ha),b=ua.charCodeAt(Ha+1);if(Ma=Ha,D(a))return l();switch(a){case 39:case 34:return o();case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return q();case 46:return B(b)?q():46===b?46===ua.charCodeAt(Ha+2)?n():m(".."):m(".");case 61:return m(61===b?"==":"=");case 62:return m(61===b?">=":">");case 60:return m(61===b?"<=":"<");case 126:return 61===b?m("~="):f({},Pa.expected,"=","~");case 58:return m(58===b?"::":":");case 91:return 91===b||61===b?p():m("[");case 42:case 47:case 94:case 37:case 44:case 123:case 125:case 93:case 40:case 41:case 59:case 35:case 45:case 43:return m(ua.charAt(Ha))}return h(ua.charAt(Ha))}function j(){var a=ua.charCodeAt(Ha),b=ua.charCodeAt(Ha+1);return A(a)?(10===a&&13===b&&Ha++,13===a&&10===b&&Ha++,Na++,Oa=++Ha,!0):!1}function k(){for(;wa>Ha;){var a=ua.charCodeAt(Ha);if(z(a))Ha++;else if(!j())break}}function l(){for(var a,b;E(ua.charCodeAt(++Ha)););return a=ua.slice(Ma,Ha),F(a)?b=Aa:"true"===a||"false"===a?(b=Ea,a="true"===a):"nil"===a?(b=Fa,a=null):b=Ba,{type:b,value:a,line:Na,lineStart:Oa,range:[Ma,Ha]}}function m(a){return Ha+=a.length,{type:Da,value:a,line:Na,lineStart:Oa,range:[Ma,Ha]}}function n(){return Ha+=3,{type:Ga,value:"...",line:Na,lineStart:Oa,range:[Ma,Ha]}}function o(){for(var a,b=ua.charCodeAt(Ha++),c=Ha,d="";wa>Ha&&(a=ua.charCodeAt(Ha++),b!==a);)92===a?(d+=ua.slice(c,Ha-1)+t(),c=Ha):(Ha>=wa||A(a))&&(d+=ua.slice(c,Ha-1),f({},Pa.unfinishedString,d+String.fromCharCode(a)));return d+=ua.slice(c,Ha-1),{type:za,value:d,line:Na,lineStart:Oa,range:[Ma,Ha]}}function p(){var a=v();return!1===a&&f(Ia,Pa.expected,"[",Ia.value),{type:za,value:a,line:Na,lineStart:Oa,range:[Ma,Ha]}}function q(){var a=ua.charAt(Ha),b=ua.charAt(Ha+1),c="0"===a&&"xX".indexOf(b||null)>=0?r():s();return{type:Ca,value:c,line:Na,lineStart:Oa,range:[Ma,Ha]}}function r(){var a,b,c,d,e=0,g=1,h=1;for(d=Ha+=2,C(ua.charCodeAt(Ha))||f({},Pa.malformedNumber,ua.slice(Ma,Ha));C(ua.charCodeAt(Ha));)Ha++;if(a=parseInt(ua.slice(d,Ha),16),"."===ua.charAt(Ha)){for(b=++Ha;C(ua.charCodeAt(Ha));)Ha++;e=ua.slice(b,Ha),e=b===Ha?0:parseInt(e,16)/Math.pow(16,Ha-b)}if("pP".indexOf(ua.charAt(Ha)||null)>=0){for(Ha++,"+-".indexOf(ua.charAt(Ha)||null)>=0&&(h="+"===ua.charAt(Ha++)?1:-1),c=Ha,B(ua.charCodeAt(Ha))||f({},Pa.malformedNumber,ua.slice(Ma,Ha));B(ua.charCodeAt(Ha));)Ha++;g=ua.slice(c,Ha),g=Math.pow(2,g*h)}return(a+e)*g}function s(){for(;B(ua.charCodeAt(Ha));)Ha++;if("."===ua.charAt(Ha))for(Ha++;B(ua.charCodeAt(Ha));)Ha++;if("eE".indexOf(ua.charAt(Ha)||null)>=0)for(Ha++,"+-".indexOf(ua.charAt(Ha)||null)>=0&&Ha++,B(ua.charCodeAt(Ha))||f({},Pa.malformedNumber,ua.slice(Ma,Ha));B(ua.charCodeAt(Ha));)Ha++;return parseFloat(ua.slice(Ma,Ha))}function t(){var a=Ha;switch(ua.charAt(Ha)){case"n":return Ha++,"\n";case"r":return Ha++,"\r";case"t":return Ha++,"	";case"v":return Ha++,"";case"b":return Ha++,"\b";case"f":return Ha++,"\f";case"z":return Ha++,k(),"";case"x":return C(ua.charCodeAt(Ha+1))&&C(ua.charCodeAt(Ha+2))?(Ha+=3,"\\"+ua.slice(a,Ha)):"\\"+ua.charAt(Ha++);default:if(B(ua.charCodeAt(Ha))){for(;B(ua.charCodeAt(++Ha)););return"\\"+ua.slice(a,Ha)}return ua.charAt(Ha++)}}function u(){Ma=Ha,Ha+=2;var a=ua.charAt(Ha),b="",c=!1,d=Ha,e=Oa,f=Na;if("["===a&&(b=v(),!1===b?b=a:c=!0),!c){for(;wa>Ha&&!A(ua.charCodeAt(Ha));)Ha++;va.comments&&(b=ua.slice(d,Ha))}if(va.comments){var g=Qa.comment(b,ua.slice(Ma,Ha));va.locations&&(g.loc={start:{line:f,column:Ma-e},end:{line:Na,column:Ha-Oa}}),va.ranges&&(g.range=[Ma,Ha]),va.onCreateNode&&va.onCreateNode(g),La.push(g)}}function v(){var a,b,c=0,d="",e=!1;for(Ha++;"="===ua.charAt(Ha+c);)c++;if("["!==ua.charAt(Ha+c))return!1;for(Ha+=c+1,A(ua.charCodeAt(Ha))&&j(),b=Ha;wa>Ha;){if(A(ua.charCodeAt(Ha))&&j(),a=ua.charAt(Ha++),"]"===a){e=!0;for(var f=0;c>f;f++)"="!==ua.charAt(Ha+f)&&(e=!1);"]"!==ua.charAt(Ha+c)&&(e=!1)}if(e)break}return d+=ua.slice(b,Ha-1),Ha+=c+1,d}function w(){Ja=Ia,Ia=Ka,Ka=i()}function x(a){return a===Ia.value?(w(),!0):!1}function y(a){a===Ia.value?w():f(Ia,Pa.expected,a,Ia.value)}function z(a){return 9===a||32===a||11===a||12===a}function A(a){return 10===a||13===a}function B(a){return a>=48&&57>=a}function C(a){return a>=48&&57>=a||a>=97&&102>=a||a>=65&&70>=a}function D(a){return a>=65&&90>=a||a>=97&&122>=a||95===a}function E(a){return a>=65&&90>=a||a>=97&&122>=a||95===a||a>=48&&57>=a}function F(a){switch(a.length){case 2:return"do"===a||"if"===a||"in"===a||"or"===a;case 3:return"and"===a||"end"===a||"for"===a||"not"===a;case 4:return"else"===a||"goto"===a||"then"===a;case 5:return"break"===a||"local"===a||"until"===a||"while"===a;case 6:return"elseif"===a||"repeat"===a||"return"===a;case 8:return"function"===a}return!1}function G(a){return Da===a.type?"#-".indexOf(a.value)>=0:Aa===a.type?"not"===a.value:!1}function H(a){switch(a.type){case"CallExpression":case"TableCallExpression":case"StringCallExpression":return!0}return!1}function I(a){if(ya===a.type)return!0;if(Aa!==a.type)return!1;switch(a.value){case"else":case"elseif":case"end":case"until":return!0;default:return!1}}function J(){var a=Array.apply(null,Ta[Ua++]);Ta.push(a),va.onCreateScope&&va.onCreateScope()}function K(){Ta.pop();Ua--,va.onDestroyScope&&va.onDestroyScope()}function L(a){-1===Sa(Ta[Ua],a)&&Ta[Ua].push(a)}function M(a){L(a.name),N(a,!0)}function N(a,b){b||-1!==c(Va,"name",a.name)||Va.push(a),a.isLocal=b}function O(a){return-1!==Sa(Ta[Ua],a)}function P(){return new Q(Ia)}function Q(a){va.locations&&(this.loc={start:{line:a.line,column:a.range[0]-a.lineStart},end:{line:0,column:0}}),va.ranges&&(this.range=[a.range[0],0])}function R(){Wa&&Xa.push(P())}function S(a){Wa&&Xa.push(a)}function T(){w(),R(),va.scope&&J();var a=U();return va.scope&&K(),ya!==Ia.type&&h(Ia),Wa&&!a.length&&(Ja=Ia),b(Qa.chunk(a))}function U(a){for(var b,c=[];!I(Ia);){if("return"===Ia.value){c.push(V());break}b=V(),b&&c.push(b)}return c}function V(){if(R(),Aa===Ia.type)switch(Ia.value){case"local":return w(),da();case"if":return w(),ba();case"return":return w(),aa();case"function":w();var a=ia();return ha(a);case"while":return w(),$();case"for":return w(),ca();case"repeat":return w(),_();case"break":return w(),X();case"do":return w(),Z();case"goto":return w(),Y()}return Da===Ia.type&&x("::")?W():(Wa&&Xa.pop(),x(";")?void 0:fa())}function W(){var a=Ia.value,c=ga();return va.scope&&(L("::"+a+"::"),N(c,!0)),y("::"),b(Qa.labelStatement(c))}function X(){return b(Qa.breakStatement())}function Y(){var a=(Ia.value,ga());return b(Qa.gotoStatement(a))}function Z(){va.scope&&J();var a=U();return va.scope&&K(),y("end"),b(Qa.doStatement(a))}function $(){var a=la();y("do"),va.scope&&J();var c=U();return va.scope&&K(),y("end"),b(Qa.whileStatement(a,c))}function _(){va.scope&&J();var a=U();y("until");var c=la();return va.scope&&K(),b(Qa.repeatStatement(c,a))}function aa(){var a=[];if("end"!==Ia.value){var c=ka();for(null!=c&&a.push(c);x(",");)c=la(),a.push(c);x(";")}return b(Qa.returnStatement(a))}function ba(){var a,c,d,e=[];for(Wa&&(d=Xa[Xa.length-1],Xa.push(d)),a=la(),y("then"),va.scope&&J(),c=U(),va.scope&&K(),e.push(b(Qa.ifClause(a,c))),Wa&&(d=P());x("elseif");)S(d),a=la(),y("then"),va.scope&&J(),c=U(),va.scope&&K(),e.push(b(Qa.elseifClause(a,c))),Wa&&(d=P());return x("else")&&(Wa&&(d=new Q(Ja),Xa.push(d)),va.scope&&J(),c=U(),va.scope&&K(),e.push(b(Qa.elseClause(c)))),y("end"),b(Qa.ifStatement(e))}function ca(){var a,c=ga();if(va.scope&&(J(),M(c)),x("=")){var d=la();y(",");var e=la(),f=x(",")?la():null;return y("do"),a=U(),y("end"),va.scope&&K(),b(Qa.forNumericStatement(c,d,e,f,a))}for(var g=[c];x(",");)c=ga(),va.scope&&M(c),g.push(c);y("in");var h=[];do{var i=la();h.push(i)}while(x(","));return y("do"),a=U(),y("end"),va.scope&&K(),b(Qa.forGenericStatement(g,h,a))}function da(){var a;if(Ba===Ia.type){var c=[],d=[];do a=ga(),c.push(a);while(x(","));if(x("="))do{var e=la();d.push(e)}while(x(","));if(va.scope)for(var f=0,h=c.length;h>f;f++)M(c[f]);return b(Qa.localStatement(c,d))}return x("function")?(a=ga(),va.scope&&(M(a),J()),ha(a,!0)):void g("<name>",Ia)}function ea(a){(a.inParens||-1===["Identifier","MemberExpression","IndexExpression"].indexOf(a.type))&&f(Ia,Pa.invalidVar,Ia.value)}function fa(){var a,c,d=Ia;if(Wa&&(c=P()),a=oa(),null==a)return h(Ia);if(",=".indexOf(Ia.value)>=0){var e,f=[a],i=[];for(ea(a);x(",");)e=oa(),null==e&&g("<expression>",Ia),ea(e),f.push(e);y("=");do e=la(),i.push(e);while(x(","));return S(c),b(Qa.assignmentStatement(f,i))}return H(a)?(S(c),b(Qa.callStatement(a))):h(d)}function ga(){R();var a=Ia.value;return Ba!==Ia.type&&g("<name>",Ia),w(),b(Qa.identifier(a))}function ha(a,c){var d=[];if(y("("),!x(")"))for(;;)if(Ba===Ia.type){var e=ga();if(va.scope&&M(e),d.push(e),x(","))continue;if(x(")"))break}else{if(Ga===Ia.type){d.push(qa()),y(")");break}g("<name> or '...'",Ia)}var f=U();return y("end"),va.scope&&K(),c=c||!1,b(Qa.functionStatement(a,d,c,f))}function ia(){var a,c,d;for(Wa&&(d=P()),a=ga(),va.scope&&(N(a,O(a.name)),J());x(".");)S(d),c=ga(),a=b(Qa.memberExpression(a,".",c));return x(":")&&(S(d),c=ga(),a=b(Qa.memberExpression(a,":",c)),va.scope&&L("self")),a}function ja(){for(var a,c,d=[];;){if(R(),Da===Ia.type&&x("["))a=la(),y("]"),y("="),c=la(),d.push(b(Qa.tableKey(a,c)));else if(Ba===Ia.type)"="===Ka.value?(a=ga(),w(),c=la(),d.push(b(Qa.tableKeyString(a,c)))):(c=la(),d.push(b(Qa.tableValue(c))));else{if(null==(c=ka())){Xa.pop();break}d.push(b(Qa.tableValue(c)))}if(!(",;".indexOf(Ia.value)>=0))break;w()}return y("}"),b(Qa.tableConstructorExpression(d))}function ka(){var a=na(0);return a}function la(){var a=ka();return null!=a?a:void g("<expression>",Ia)}function ma(a){var b=a.charCodeAt(0),c=a.length;if(1===c)switch(b){case 94:return 10;case 42:case 47:case 37:return 7;case 43:case 45:return 6;case 60:case 62:return 3}else if(2===c)switch(b){case 46:return 5;case 60:case 62:case 61:case 126:return 3;case 111:return 1}else if(97===b&&"and"===a)return 2;return 0}function na(a){var c,d,e=Ia.value;if(Wa&&(d=P()),G(Ia)){R(),w();var f=na(8);null==f&&g("<expression>",Ia),c=b(Qa.unaryExpression(e,f))}if(null==c&&(c=qa(),null==c&&(c=oa())),null==c)return null;for(var h;;){if(e=Ia.value,h=Da===Ia.type||Aa===Ia.type?ma(e):0,0===h||a>=h)break;("^"===e||".."===e)&&h--,w();var i=na(h);null==i&&g("<expression>",Ia),Wa&&Xa.push(d),c=b(Qa.binaryExpression(e,c,i))}return c}function oa(){var a,c,d;if(Wa&&(d=P()),Ba===Ia.type)c=Ia.value,a=ga(),va.scope&&N(a,O(c));else{if(!x("("))return null;a=la(),y(")"),a.inParens=!0}for(var e,f;;)if(Da===Ia.type)switch(Ia.value){case"[":S(d),w(),e=la(),a=b(Qa.indexExpression(a,e)),y("]");break;case".":S(d),w(),f=ga(),a=b(Qa.memberExpression(a,".",f));break;case":":S(d),w(),f=ga(),a=b(Qa.memberExpression(a,":",f)),S(d),a=pa(a);break;case"(":case"{":S(d),a=pa(a);break;default:return a}else{if(za!==Ia.type)break;S(d),a=pa(a)}return a}function pa(a){if(Da===Ia.type)switch(Ia.value){case"(":w();var c=[],d=ka();for(null!=d&&c.push(d);x(",");)d=la(),c.push(d);return y(")"),b(Qa.callExpression(a,c));case"{":R(),w();var e=ja();return b(Qa.tableCallExpression(a,e))}else if(za===Ia.type)return b(Qa.stringCallExpression(a,qa()));g("function arguments",Ia)}function qa(){var a,c=za|Ca|Ea|Fa|Ga,d=Ia.value,e=Ia.type;if(Wa&&(a=P()),e&c){S(a);var f=ua.slice(Ia.range[0],Ia.range[1]);return w(),b(Qa.literal(e,d,f))}return Aa===e&&"function"===d?(S(a),w(),va.scope&&J(),ha(null)):x("{")?(S(a),ja()):void 0}function ra(b,c){return"undefined"==typeof c&&"object"==typeof b&&(c=b,b=void 0),c||(c={}),ua=b||"",va=e(xa,c),Ha=0,Na=1,Oa=0,wa=ua.length,Ta=[[]],Ua=0,Va=[],Xa=[],va.comments&&(La=[]),va.wait?a:ta()}function sa(b){return ua+=String(b),wa=ua.length,a}function ta(a){"undefined"!=typeof a&&sa(a),wa=ua.length,Wa=va.locations||va.ranges,Ka=i();var b=T();if(va.comments&&(b.comments=La),va.scope&&(b.globals=Va),Xa.length>0)throw new Error("Location tracking failed. This is most likely a bug in luaparse");return b}a.version="0.1.15";var ua,va,wa,xa=a.defaultOptions={wait:!1,comments:!0,scope:!1,locations:!1,ranges:!1,onCreateNode:null,onCreateScope:null,onDestroyScope:null},ya=1,za=2,Aa=4,Ba=8,Ca=16,Da=32,Ea=64,Fa=128,Ga=256;a.tokenTypes={EOF:ya,StringLiteral:za,Keyword:Aa,Identifier:Ba,NumericLiteral:Ca,Punctuator:Da,BooleanLiteral:Ea,NilLiteral:Fa,VarargLiteral:Ga};var Ha,Ia,Ja,Ka,La,Ma,Na,Oa,Pa=a.errors={unexpected:"unexpected %1 '%2' near '%3'",expected:"'%1' expected near '%2'",expectedToken:"%1 expected near '%2'",unfinishedString:"unfinished string near '%1'",malformedNumber:"malformed number near '%1'",invalidVar:"invalid left-hand side of assignment near '%1'"},Qa=a.ast={labelStatement:function(a){return{type:"LabelStatement",label:a}},breakStatement:function(){return{type:"BreakStatement"}},gotoStatement:function(a){return{type:"GotoStatement",label:a}},returnStatement:function(a){return{type:"ReturnStatement",arguments:a}},ifStatement:function(a){return{type:"IfStatement",clauses:a}},ifClause:function(a,b){return{type:"IfClause",condition:a,body:b}},elseifClause:function(a,b){return{type:"ElseifClause",condition:a,body:b}},elseClause:function(a){return{type:"ElseClause",body:a}},whileStatement:function(a,b){return{type:"WhileStatement",condition:a,body:b}},doStatement:function(a){return{type:"DoStatement",body:a}},repeatStatement:function(a,b){return{type:"RepeatStatement",condition:a,body:b}},localStatement:function(a,b){return{type:"LocalStatement",variables:a,init:b}},assignmentStatement:function(a,b){return{type:"AssignmentStatement",variables:a,init:b}},callStatement:function(a){return{type:"CallStatement",expression:a}},functionStatement:function(a,b,c,d){return{type:"FunctionDeclaration",identifier:a,isLocal:c,parameters:b,body:d}},forNumericStatement:function(a,b,c,d,e){return{type:"ForNumericStatement",variable:a,start:b,end:c,step:d,body:e}},forGenericStatement:function(a,b,c){return{type:"ForGenericStatement",variables:a,iterators:b,body:c}},chunk:function(a){return{type:"Chunk",body:a}},identifier:function(a){return{type:"Identifier",name:a}},literal:function(a,b,c){return a=a===za?"StringLiteral":a===Ca?"NumericLiteral":a===Ea?"BooleanLiteral":a===Fa?"NilLiteral":"VarargLiteral",{type:a,value:b,raw:c}},tableKey:function(a,b){return{type:"TableKey",key:a,value:b}},tableKeyString:function(a,b){return{type:"TableKeyString",key:a,value:b}},tableValue:function(a){return{type:"TableValue",value:a}},tableConstructorExpression:function(a){return{type:"TableConstructorExpression",fields:a}},binaryExpression:function(a,b,c){var d="and"===a||"or"===a?"LogicalExpression":"BinaryExpression";return{type:d,operator:a,left:b,right:c}},unaryExpression:function(a,b){return{type:"UnaryExpression",operator:a,argument:b}},memberExpression:function(a,b,c){return{type:"MemberExpression",indexer:b,identifier:c,base:a}},indexExpression:function(a,b){return{type:"IndexExpression",base:a,index:b}},callExpression:function(a,b){return{type:"CallExpression",base:a,arguments:b}},tableCallExpression:function(a,b){return{type:"TableCallExpression",base:a,arguments:b}},stringCallExpression:function(a,b){return{type:"StringCallExpression",base:a,argument:b}},comment:function(a,b){return{type:"Comment",value:a,raw:b}}},Ra=Array.prototype.slice,Sa=(Object.prototype.toString,function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1});a.lex=i;var Ta,Ua,Va,Wa,Xa=[];Q.prototype.complete=function(){va.locations&&(this.loc.end.line=Ja.line,this.loc.end.column=Ja.range[1]-Ja.lineStart),va.ranges&&(this.range[1]=Ja.range[1])},a.parse=ra,a.write=sa,a.end=ta})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[3]);